(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1910],{781:(e,s,a)=>{"use strict";a.d(s,{O:()=>d});var t=a(5155),r=a(2108),l=a(5695),o=a(2115),i=a(8274),n=a(4631);function c(e){let{size:s="md",color:a="blue",text:r="Carregando..."}=e,l={blue:"text-blue-600",green:"text-green-600",gray:"text-gray-600"};return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8",children:[(0,t.jsx)(i.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"".concat({sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[s]," ").concat(l[a]," mb-2"),children:(0,t.jsx)(n.A,{className:"h-full w-full"})}),(0,t.jsx)(i.P.p,{initial:{opacity:.5},animate:{opacity:1},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},className:"text-sm ".concat(l[a]," font-medium"),children:r})]})}function d(e){let{children:s,requiredRole:a}=e,{data:i,status:n}=(0,r.useSession)(),d=(0,l.useRouter)();return((0,o.useEffect)(()=>{if("loading"!==n){if(!i){let e=setTimeout(()=>{if(!i&&"unauthenticated"===n){let e=window.location.pathname+window.location.search,s=new URLSearchParams(window.location.search).get("tenant")||"demo";d.push("/auth/login?tenant=".concat(s,"&callbackUrl=").concat(encodeURIComponent(e)))}},1e3);return()=>clearTimeout(e)}if(a&&i.user.role!==a)return void d.push("/unauthorized")}},[i,n,d,a]),"loading"!==n&&i)?a&&i.user.role!==a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Negado"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Voc\xea n\xe3o tem permiss\xe3o para acessar esta p\xe1gina."})]})}):(0,t.jsx)(t.Fragment,{children:s}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(c,{})})}},1007:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4631:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5525:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(5155),r=a(2115),l=a(2108),o=a(838),i=a(781),n=a(4616),c=a(7924),d=a(6932),x=a(7434),m=a(1007),u=a(7930),h=a(9074),g=a(2657),p=a(9946);let v=(0,p.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),b=(0,p.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),j={AGUARDANDO_DOCUMENTOS:"bg-yellow-100 text-yellow-800",DOCUMENTOS_RECEBIDOS:"bg-blue-100 text-blue-800",EM_ANALISE:"bg-purple-100 text-purple-800",AGUARDANDO_PAGAMENTO:"bg-orange-100 text-orange-800",PAGAMENTO_CONFIRMADO:"bg-green-100 text-green-800",EM_PROCESSAMENTO:"bg-indigo-100 text-indigo-800",AGUARDANDO_VISTORIA:"bg-yellow-100 text-yellow-800",VISTORIA_REALIZADA:"bg-cyan-100 text-cyan-800",FINALIZADO:"bg-green-100 text-green-800",CANCELADO:"bg-red-100 text-red-800",ERRO:"bg-red-100 text-red-800"},N={BAIXA:"bg-gray-100 text-gray-800",MEDIA:"bg-blue-100 text-blue-800",ALTA:"bg-orange-100 text-orange-800",URGENTE:"bg-red-100 text-red-800"};function y(){let{data:e}=(0,l.useSession)(),[s,a]=(0,r.useState)(""),[i,p]=(0,r.useState)("ALL"),[y,f]=(0,r.useState)("ALL"),[A,w]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),[O,S]=(0,r.useState)(null),[D,L]=(0,r.useState)(null),[P,I]=(0,r.useState)(!1),[M,R]=(0,r.useState)({customerId:"",veiculoId:"",tipoServico:"",titulo:"",descricao:"",status:"AGUARDANDO_DOCUMENTOS",prioridade:"MEDIA",valorTotal:0,valorTaxas:0,valorServico:0,statusPagamento:"PENDENTE",prazoLegal:"",observacoes:""}),_=e=>fetch(e).then(e=>e.json()),{data:U=[],isLoading:z,error:G,mutate:V}=(0,o.Ay)("/api/processes",_,{refreshInterval:3e4,dedupingInterval:5e3,revalidateOnFocus:!1}),{data:F=[]}=(0,o.Ay)("/api/customers",_),{data:B=[]}=(0,o.Ay)("/api/users",_),q=U.filter(e=>{var a;let t=e.numero.toLowerCase().includes(s.toLowerCase())||e.customer.name.toLowerCase().includes(s.toLowerCase())||e.titulo.toLowerCase().includes(s.toLowerCase())||((null==(a=e.veiculo)?void 0:a.placa)||"").toLowerCase().includes(s.toLowerCase()),r="ALL"===i||e.status===i,l="ALL"===y||e.prioridade===y;return t&&r&&l}),H=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),Z=e=>new Date(e).toLocaleDateString("pt-BR"),W=async e=>{L("editar");try{let s=await fetch("/api/processes/".concat(e.id));if(s.ok){let e=await s.json();R({customerId:e.customerId||"",veiculoId:e.veiculoId||"",tipoServico:e.tipoServico||"",titulo:e.titulo||"",descricao:e.descricao||"",status:e.status||"AGUARDANDO_DOCUMENTOS",prioridade:e.prioridade||"MEDIA",valorTotal:e.valorTotal||0,valorTaxas:e.valorTaxas||0,valorServico:e.valorServico||0,statusPagamento:e.statusPagamento||"PENDENTE",prazoLegal:e.prazoLegal?new Date(e.prazoLegal).toISOString().split("T")[0]:"",observacoes:e.observacoes||""}),S(e),I(!0),w(!0)}}catch(e){alert("Erro ao carregar dados do processo")}finally{L(null)}},X=async e=>{L("visualizar");try{let s=await fetch("/api/processes/".concat(e.id));if(s.ok){let e=await s.json();S(e),T(!0)}}catch(e){alert("Erro ao carregar detalhes do processo")}finally{L(null)}},$=async()=>{L("salvar");try{var s;let a=P?"/api/processes/".concat(null==O?void 0:O.id):"/api/processes",t={...M,responsavelId:null==e||null==(s=e.user)?void 0:s.id,valorTotal:Number(M.valorTotal),valorTaxas:Number(M.valorTaxas),valorServico:Number(M.valorServico)},r=await fetch(a,{method:P?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(r.ok)V(),w(!1),S(null),alert(P?"Processo atualizado com sucesso!":"Processo criado com sucesso!");else{let e=await r.json();alert(e.error||"Erro ao salvar processo")}}catch(e){alert("Erro ao salvar processo")}finally{L(null)}},J=async e=>{if(confirm("Tem certeza que deseja excluir o processo ".concat(e.numero,"?")))try{(await fetch("/api/processes/".concat(e.id),{method:"DELETE"})).ok?V():alert("Erro ao excluir processo")}catch(e){alert("Erro ao excluir processo")}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gerenciamento de Processos"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Acompanhe todos os processos de documenta\xe7\xe3o veicular"})]}),(0,t.jsxs)("button",{onClick:()=>{R({customerId:"",veiculoId:"",tipoServico:"",titulo:"",descricao:"",status:"AGUARDANDO_DOCUMENTOS",prioridade:"MEDIA",valorTotal:0,valorTaxas:0,valorServico:0,statusPagamento:"PENDENTE",prazoLegal:"",observacoes:""}),S(null),I(!1),w(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Novo Processo"]})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)("input",{type:"text",placeholder:"Buscar por n\xfamero, cliente ou placa...",value:s,onChange:e=>a(e.target.value),className:"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("select",{value:i,onChange:e=>p(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"ALL",children:"Todos os Status"}),(0,t.jsx)("option",{value:"AGUARDANDO_DOCUMENTOS",children:"Aguardando Documentos"}),(0,t.jsx)("option",{value:"EM_PROCESSAMENTO",children:"Em Processamento"}),(0,t.jsx)("option",{value:"AGUARDANDO_PAGAMENTO",children:"Aguardando Pagamento"}),(0,t.jsx)("option",{value:"FINALIZADO",children:"Finalizado"}),(0,t.jsx)("option",{value:"CANCELADO",children:"Cancelado"})]}),(0,t.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"ALL",children:"Todas as Prioridades"}),(0,t.jsx)("option",{value:"URGENTE",children:"Urgente"}),(0,t.jsx)("option",{value:"ALTA",children:"Alta"}),(0,t.jsx)("option",{value:"MEDIA",children:"M\xe9dia"}),(0,t.jsx)("option",{value:"BAIXA",children:"Baixa"})]}),(0,t.jsxs)("button",{onClick:()=>E(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Filtros Avan\xe7ados"]})]})}),(0,t.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:z?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-2 text-gray-500",children:"Carregando processos..."})]}):G?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(x.A,{className:"mx-auto h-12 w-12 text-red-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Erro ao carregar processos"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"N\xe3o foi poss\xedvel carregar os processos. Tente novamente."}),(0,t.jsx)("button",{onClick:()=>V(),className:"mt-4 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Tentar novamente"})]}):0===q.length?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)(x.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum processo encontrado"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:s||"ALL"!==i||"ALL"!==y?"Tente ajustar os filtros de busca.":"Comece criando um novo processo para um cliente."})]}):(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:q.map(e=>(0,t.jsx)("li",{className:"hover:bg-gray-50 transition-colors",children:(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0 pr-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(x.A,{className:"h-10 w-10 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 flex-wrap",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900 truncate",children:e.numero}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(j[e.status]||"bg-gray-100 text-gray-800"),children:e.status.replace(/_/g," ")}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(N[e.prioridade]||"bg-gray-100 text-gray-800"),children:e.prioridade})]}),(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 mt-1",children:e.titulo}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"truncate",children:e.customer.name})]}),e.veiculo&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{className:"truncate",children:[e.veiculo.marca," ",e.veiculo.modelo," - ",e.veiculo.placa]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["Criado em ",Z(e.dataInicio)]})]})]})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:H(e.valorTotal)}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"PAGO"===e.statusPagamento?(0,t.jsx)("span",{className:"text-green-600",children:"✓ Pago"}):(0,t.jsx)("span",{className:"text-orange-600",children:"⏳ Pendente"})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>X(e),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors disabled:opacity-50",title:"Visualizar",disabled:"visualizar"===D,children:"visualizar"===D?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):(0,t.jsx)(g.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>W(e),className:"p-1 text-gray-400 hover:text-green-600 transition-colors disabled:opacity-50",title:"Editar",disabled:"editar"===D,children:"editar"===D?(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):(0,t.jsx)(v,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>J(e),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Excluir",children:(0,t.jsx)(b,{className:"h-4 w-4"})})]})]})]})})},e.id))})}),(0,t.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:U.length}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Total de Processos"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:U.filter(e=>"EM_PROCESSAMENTO"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Em Processamento"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:U.filter(e=>"FINALIZADO"===e.status).length}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Finalizados"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:H(U.reduce((e,s)=>e+s.valorTotal,0))}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Valor Total"})]})]})]}),A&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,t.jsx)("div",{className:"relative top-4 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:P?"Editar Processo":"Novo Processo"}),(0,t.jsx)("button",{onClick:()=>{w(!1),S(null),I(!1)},className:"text-gray-400 hover:text-gray-600",disabled:"salvar"===D,children:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),$()},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),(0,t.jsxs)("select",{value:M.customerId,onChange:e=>R({...M,customerId:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:"salvar"===D,children:[(0,t.jsx)("option",{value:"",children:"Selecione um cliente"}),F.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," - ",e.cpfCnpj]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Servi\xe7o *"}),(0,t.jsxs)("select",{value:M.tipoServico,onChange:e=>R({...M,tipoServico:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:"salvar"===D,children:[(0,t.jsx)("option",{value:"",children:"Selecione o tipo"}),(0,t.jsx)("option",{value:"TRANSFERENCIA",children:"Transfer\xeancia"}),(0,t.jsx)("option",{value:"LICENCIAMENTO",children:"Licenciamento"}),(0,t.jsx)("option",{value:"SEGUNDA_VIA",children:"Segunda Via"}),(0,t.jsx)("option",{value:"IPVA",children:"IPVA"}),(0,t.jsx)("option",{value:"MULTAS",children:"Multas"}),(0,t.jsx)("option",{value:"CNH",children:"CNH"}),(0,t.jsx)("option",{value:"VISTORIA",children:"Vistoria"}),(0,t.jsx)("option",{value:"OUTROS",children:"Outros"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo do Processo *"}),(0,t.jsx)("input",{type:"text",value:M.titulo,onChange:e=>R({...M,titulo:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Transfer\xeancia de propriedade - Honda Civic",required:!0,disabled:"salvar"===D})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{value:M.status,onChange:e=>R({...M,status:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:"salvar"===D,children:[(0,t.jsx)("option",{value:"AGUARDANDO_DOCUMENTOS",children:"Aguardando Documentos"}),(0,t.jsx)("option",{value:"DOCUMENTOS_RECEBIDOS",children:"Documentos Recebidos"}),(0,t.jsx)("option",{value:"EM_ANALISE",children:"Em An\xe1lise"}),(0,t.jsx)("option",{value:"AGUARDANDO_PAGAMENTO",children:"Aguardando Pagamento"}),(0,t.jsx)("option",{value:"PAGAMENTO_CONFIRMADO",children:"Pagamento Confirmado"}),(0,t.jsx)("option",{value:"EM_PROCESSAMENTO",children:"Em Processamento"}),(0,t.jsx)("option",{value:"AGUARDANDO_VISTORIA",children:"Aguardando Vistoria"}),(0,t.jsx)("option",{value:"VISTORIA_REALIZADA",children:"Vistoria Realizada"}),(0,t.jsx)("option",{value:"FINALIZADO",children:"Finalizado"}),(0,t.jsx)("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),(0,t.jsxs)("select",{value:M.prioridade,onChange:e=>R({...M,prioridade:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:"salvar"===D,children:[(0,t.jsx)("option",{value:"BAIXA",children:"Baixa"}),(0,t.jsx)("option",{value:"MEDIA",children:"M\xe9dia"}),(0,t.jsx)("option",{value:"ALTA",children:"Alta"}),(0,t.jsx)("option",{value:"URGENTE",children:"Urgente"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor do Servi\xe7o (R$)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:M.valorServico,onChange:e=>R({...M,valorServico:Number(e.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",disabled:"salvar"===D})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor das Taxas (R$)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:M.valorTaxas,onChange:e=>{let s=Number(e.target.value),a=Number(M.valorServico)+s;R({...M,valorTaxas:s,valorTotal:a})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00",disabled:"salvar"===D})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor Total (R$)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:Number(M.valorServico)+Number(M.valorTaxas),onChange:e=>R({...M,valorTotal:Number(e.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status de Pagamento"}),(0,t.jsxs)("select",{value:M.statusPagamento,onChange:e=>R({...M,statusPagamento:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:"salvar"===D,children:[(0,t.jsx)("option",{value:"PENDENTE",children:"Pendente"}),(0,t.jsx)("option",{value:"PAGO",children:"Pago"}),(0,t.jsx)("option",{value:"PARCIAL",children:"Parcial"}),(0,t.jsx)("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo Legal"}),(0,t.jsx)("input",{type:"date",value:M.prazoLegal,onChange:e=>R({...M,prazoLegal:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:"salvar"===D})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descri\xe7\xe3o"}),(0,t.jsx)("textarea",{value:M.descricao,onChange:e=>R({...M,descricao:e.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Descreva os detalhes do processo...",disabled:"salvar"===D})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observa\xe7\xf5es"}),(0,t.jsx)("textarea",{value:M.observacoes,onChange:e=>R({...M,observacoes:e.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Observa\xe7\xf5es adicionais...",disabled:"salvar"===D})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{w(!1),S(null),I(!1)},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",disabled:"salvar"===D,children:"Cancelar"}),(0,t.jsxs)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:"salvar"===D,children:["salvar"===D&&(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),P?"Atualizar":"Criar"," Processo"]})]})]})]})})}),C&&O&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,t.jsx)("div",{className:"relative top-4 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Detalhes do Processo"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:O.numero})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{T(!1),W(O)},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>{T(!1),S(null)},className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informa\xe7\xf5es B\xe1sicas"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"T\xedtulo"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.titulo})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Tipo de Servi\xe7o"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.tipoServico})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(j[O.status]||"bg-gray-100 text-gray-800"," mt-1"),children:O.status.replace(/_/g," ")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Prioridade"}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(N[O.prioridade]||"bg-gray-100 text-gray-800"," mt-1"),children:O.prioridade})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Data de In\xedcio"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:Z(O.dataInicio)})]}),O.prazoLegal&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Prazo Legal"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:Z(O.prazoLegal)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Cliente"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Nome"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.customer.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Email"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.customer.email})]})]})]}),O.veiculo&&(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Ve\xedculo"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Marca/Modelo"}),(0,t.jsxs)("p",{className:"text-sm text-gray-900 mt-1",children:[O.veiculo.marca," ",O.veiculo.modelo]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Placa"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.veiculo.placa})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Ano"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:O.veiculo.ano})]})]})]}),(O.descricao||O.observacoes)&&(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalhes"}),O.descricao&&(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Descri\xe7\xe3o"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 whitespace-pre-wrap",children:O.descricao})]}),O.observacoes&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-500",children:"Observa\xe7\xf5es"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 whitespace-pre-wrap",children:O.observacoes})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Valores"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Servi\xe7o:"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:H(O.valorServico)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Taxas:"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:H(O.valorTaxas)})]}),(0,t.jsx)("div",{className:"border-t pt-3",children:(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Total:"}),(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:H(O.valorTotal)})]})}),(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Status do Pagamento:"}),(0,t.jsx)("div",{className:"mt-1",children:"PAGO"===O.statusPagamento?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✓ Pago"}):(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["⏳ ",O.statusPagamento]})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Respons\xe1vel"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:O.responsavel.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:O.responsavel.email})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"A\xe7\xf5es"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>{T(!1),W(O)},className:"w-full flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,t.jsx)(v,{className:"h-4 w-4 mr-2"}),"Editar Processo"]}),(0,t.jsxs)("button",{onClick:()=>J(O),className:"w-full flex items-center justify-center px-3 py-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50 transition-colors",children:[(0,t.jsx)(b,{className:"h-4 w-4 mr-2"}),"Excluir Processo"]})]})]})]})]})]})})}),k&&(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,t.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 shadow-lg rounded-md bg-white",children:(0,t.jsxs)("div",{className:"mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filtros Avan\xe7ados"}),(0,t.jsx)("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 rounded-md",children:[(0,t.jsxs)("p",{className:"text-sm text-yellow-700",children:["\uD83D\uDD0D ",(0,t.jsx)("strong",{children:"Em desenvolvimento:"})," Filtros avan\xe7ados para processos."]}),(0,t.jsx)("p",{className:"text-xs text-yellow-600 mt-2",children:"Incluir\xe1 filtros por data, valor, respons\xe1vel, tipo de servi\xe7o, etc."})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Fechar"}),(0,t.jsx)("button",{onClick:()=>{alert("Aplicando filtros... (implementar)"),E(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Aplicar Filtros"})]})]})})})]})}function f(){return(0,t.jsx)(i.O,{children:(0,t.jsx)(y,{})})}},6932:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7924:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7930:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},9074:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9651:(e,s,a)=>{Promise.resolve().then(a.bind(a,5525))}},e=>{e.O(0,[8274,2108,2961,8441,5964,7358],()=>e(e.s=9651)),_N_E=e.O()}]);