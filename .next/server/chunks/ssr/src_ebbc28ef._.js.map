{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/components/LoadingSpinner.tsx"],"sourcesContent":["'use client'\n\nimport { motion } from 'framer-motion'\nimport { LoaderIcon } from 'lucide-react'\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg'\n  color?: 'blue' | 'green' | 'gray'\n  text?: string\n}\n\nexport default function LoadingSpinner({ \n  size = 'md', \n  color = 'blue',\n  text = 'Carregando...'\n}: LoadingSpinnerProps) {\n  const sizeClasses = {\n    sm: 'h-4 w-4',\n    md: 'h-6 w-6',\n    lg: 'h-8 w-8'\n  }\n\n  const colorClasses = {\n    blue: 'text-blue-600',\n    green: 'text-green-600',\n    gray: 'text-gray-600'\n  }\n\n  return (\n    <div className=\"flex flex-col items-center justify-center py-8\">\n      <motion.div\n        animate={{ rotate: 360 }}\n        transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n        className={`${sizeClasses[size]} ${colorClasses[color]} mb-2`}\n      >\n        <LoaderIcon className=\"h-full w-full\" />\n      </motion.div>\n      \n      <motion.p\n        initial={{ opacity: 0.5 }}\n        animate={{ opacity: 1 }}\n        transition={{ duration: 0.5, repeat: Infinity, repeatType: \"reverse\" }}\n        className={`text-sm ${colorClasses[color]} font-medium`}\n      >\n        {text}\n      </motion.p>\n    </div>\n  )\n}\n\n// Componente de loading para página inteira\nexport function PageLoader() {\n  return (\n    <div className=\"fixed inset-0 bg-white/80 backdrop-blur-sm z-50 flex items-center justify-center\">\n      <div className=\"bg-white rounded-2xl shadow-xl p-8 border border-gray-200\">\n        <LoadingSpinner size=\"lg\" text=\"Carregando página...\" />\n      </div>\n    </div>\n  )\n}\n\n// Componente de loading para cards\nexport function CardLoader() {\n  return (\n    <div className=\"bg-gray-50 rounded-lg p-6 animate-pulse\">\n      <div className=\"space-y-3\">\n        <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n        <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n        <div className=\"h-4 bg-gray-200 rounded w-2/3\"></div>\n      </div>\n    </div>\n  )\n}\n\n// Skeleton loader para tabelas\nexport function TableSkeleton({ rows = 5, cols = 4 }: { rows?: number, cols?: number }) {\n  return (\n    <div className=\"space-y-3\">\n      {Array.from({ length: rows }, (_, i) => (\n        <div key={i} className=\"flex space-x-4\">\n          {Array.from({ length: cols }, (_, j) => (\n            <div key={j} className=\"h-4 bg-gray-200 rounded animate-pulse flex-1\"></div>\n          ))}\n        </div>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAWe,SAAS,eAAe,EACrC,OAAO,IAAI,EACX,QAAQ,MAAM,EACd,OAAO,eAAe,EACF;IACpB,MAAM,cAAc;QAClB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,eAAe;QACnB,MAAM;QACN,OAAO;QACP,MAAM;IACR;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,YAAY;oBAAE,UAAU;oBAAG,QAAQ;oBAAU,MAAM;gBAAS;gBAC5D,WAAW,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC;0BAE7D,cAAA,8OAAC,0MAAA,CAAA,aAAU;oBAAC,WAAU;;;;;;;;;;;0BAGxB,8OAAC,0LAAA,CAAA,SAAM,CAAC,CAAC;gBACP,SAAS;oBAAE,SAAS;gBAAI;gBACxB,SAAS;oBAAE,SAAS;gBAAE;gBACtB,YAAY;oBAAE,UAAU;oBAAK,QAAQ;oBAAU,YAAY;gBAAU;gBACrE,WAAW,CAAC,QAAQ,EAAE,YAAY,CAAC,MAAM,CAAC,YAAY,CAAC;0BAEtD;;;;;;;;;;;;AAIT;AAGO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAe,MAAK;gBAAK,MAAK;;;;;;;;;;;;;;;;AAIvC;AAGO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;8BACf,8OAAC;oBAAI,WAAU;;;;;;;;;;;;;;;;;AAIvB;AAGO,SAAS,cAAc,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACpF,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,CAAC,GAAG,kBAChC,8OAAC;gBAAY,WAAU;0BACpB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,CAAC,GAAG,kBAChC,8OAAC;wBAAY,WAAU;uBAAb;;;;;eAFJ;;;;;;;;;;AAQlB","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/components/ProtectedRoute.tsx"],"sourcesContent":["'use client'\n\nimport { useSession } from 'next-auth/react'\nimport { useRouter } from 'next/navigation'\nimport { useEffect } from 'react'\nimport LoadingSpinner from '@/components/LoadingSpinner'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n  requiredRole?: string\n}\n\nexport function ProtectedRoute({ children, requiredRole }: ProtectedRouteProps) {\n  const { data: session, status } = useSession()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (status === 'loading') return // Ainda carregando\n\n    if (!session) {\n      // Aguardar um pouco antes de redirecionar para evitar redirects prematuros\n      const timer = setTimeout(() => {\n        if (!session && status === 'unauthenticated') {\n          // Não autenticado - redirecionar para login\n          const currentUrl = window.location.pathname + window.location.search\n          const tenant = new URLSearchParams(window.location.search).get('tenant') || 'demo'\n          router.push(`/auth/login?tenant=${tenant}&callbackUrl=${encodeURIComponent(currentUrl)}`)\n        }\n      }, 1000) // Aguardar 1 segundo\n\n      return () => clearTimeout(timer)\n    }\n\n    if (requiredRole && session.user.role !== requiredRole) {\n      // Usuário não tem a role necessária\n      router.push('/unauthorized')\n      return\n    }\n  }, [session, status, router, requiredRole])\n\n  if (status === 'loading') {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (!session) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner />\n      </div>\n    )\n  }\n\n  if (requiredRole && session.user.role !== requiredRole) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-gray-900 mb-2\">Acesso Negado</h1>\n          <p className=\"text-gray-600\">Você não tem permissão para acessar esta página.</p>\n        </div>\n      </div>\n    )\n  }\n\n  return <>{children}</>\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYO,SAAS,eAAe,EAAE,QAAQ,EAAE,YAAY,EAAuB;IAC5E,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,WAAW,QAAO,mBAAmB;QAEpD,IAAI,CAAC,SAAS;YACZ,2EAA2E;YAC3E,MAAM,QAAQ,WAAW;gBACvB,IAAI,CAAC,WAAW,WAAW,mBAAmB;oBAC5C,4CAA4C;oBAC5C,MAAM,aAAa,OAAO,QAAQ,CAAC,QAAQ,GAAG,OAAO,QAAQ,CAAC,MAAM;oBACpE,MAAM,SAAS,IAAI,gBAAgB,OAAO,QAAQ,CAAC,MAAM,EAAE,GAAG,CAAC,aAAa;oBAC5E,OAAO,IAAI,CAAC,CAAC,mBAAmB,EAAE,OAAO,aAAa,EAAE,mBAAmB,aAAa;gBAC1F;YACF,GAAG,MAAM,qBAAqB;;YAE9B,OAAO,IAAM,aAAa;QAC5B;QAEA,IAAI,gBAAgB,QAAQ,IAAI,CAAC,IAAI,KAAK,cAAc;YACtD,oCAAoC;YACpC,OAAO,IAAI,CAAC;YACZ;QACF;IACF,GAAG;QAAC;QAAS;QAAQ;QAAQ;KAAa;IAE1C,IAAI,WAAW,WAAW;QACxB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,oIAAA,CAAA,UAAc;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,oIAAA,CAAA,UAAc;;;;;;;;;;IAGrB;IAEA,IAAI,gBAAgB,QAAQ,IAAI,CAAC,IAAI,KAAK,cAAc;QACtD,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;;;;;;IAIrC;IAEA,qBAAO;kBAAG;;AACZ","debugId":null}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/lib/brasilapi/cep.ts"],"sourcesContent":["// Serviços de integração com CEP da BrasilAPI\n// Útil para validação de endereços e auto-preenchimento\n\nexport interface EnderecoCep {\n  cep: string;\n  state: string;\n  city: string;\n  neighborhood: string | null;\n  street: string | null;\n  service: string;\n}\n\nexport interface EnderecoCepV2 extends EnderecoCep {\n  location: {\n    type: string;\n    coordinates: {\n      longitude: string | null;\n      latitude: string | null;\n    };\n  };\n}\n\nclass CepService {\n  private readonly baseUrl = 'https://brasilapi.com.br/api/cep';\n\n  /**\n   * Busca endereço por CEP (versão 1)\n   */\n  async buscarCep(cep: string): Promise<EnderecoCep> {\n    const cepLimpo = this.limparCep(cep);\n    \n    if (!this.validarCep(cepLimpo)) {\n      throw new Error('CEP inválido. Use o formato 12345678 ou 12345-678');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/v1/${cepLimpo}`);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('CEP não encontrado');\n        }\n        throw new Error(`Erro ao buscar CEP: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de CEP:', error);\n      if (error instanceof Error) {\n        throw error;\n      }\n      throw new Error('Falha ao consultar CEP');\n    }\n  }\n\n  /**\n   * Busca endereço por CEP com geolocalização (versão 2)\n   */\n  async buscarCepV2(cep: string): Promise<EnderecoCepV2> {\n    const cepLimpo = this.limparCep(cep);\n    \n    if (!this.validarCep(cepLimpo)) {\n      throw new Error('CEP inválido. Use o formato 12345678 ou 12345-678');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/v2/${cepLimpo}`);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('CEP não encontrado');\n        }\n        throw new Error(`Erro ao buscar CEP: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de CEP V2:', error);\n      if (error instanceof Error) {\n        throw error;\n      }\n      throw new Error('Falha ao consultar CEP');\n    }\n  }\n\n  /**\n   * Remove formatação do CEP\n   */\n  private limparCep(cep: string): string {\n    return cep.replace(/\\D/g, '');\n  }\n\n  /**\n   * Valida formato do CEP\n   */\n  validarCep(cep: string): boolean {\n    const cepLimpo = this.limparCep(cep);\n    return /^\\d{8}$/.test(cepLimpo);\n  }\n\n  /**\n   * Formata CEP para exibição\n   */\n  formatarCep(cep: string): string {\n    const cepLimpo = this.limparCep(cep);\n    if (!this.validarCep(cepLimpo)) return cep;\n    \n    return `${cepLimpo.slice(0, 5)}-${cepLimpo.slice(5)}`;\n  }\n\n  /**\n   * Monta endereço completo para exibição\n   */\n  montarEnderecoCompleto(endereco: EnderecoCep): string {\n    const partes = [\n      endereco.street,\n      endereco.neighborhood,\n      endereco.city,\n      endereco.state\n    ].filter(Boolean);\n    \n    return partes.join(', ');\n  }\n\n  /**\n   * Verifica se o endereço tem coordenadas (apenas V2)\n   */\n  temCoordenadas(endereco: EnderecoCepV2): boolean {\n    return !!(\n      endereco.location?.coordinates?.latitude && \n      endereco.location?.coordinates?.longitude\n    );\n  }\n\n  /**\n   * Converte coordenadas para números\n   */\n  obterCoordenadas(endereco: EnderecoCepV2): { lat: number; lng: number } | null {\n    if (!this.temCoordenadas(endereco)) return null;\n    \n    const lat = parseFloat(endereco.location.coordinates.latitude || '0');\n    const lng = parseFloat(endereco.location.coordinates.longitude || '0');\n    \n    if (isNaN(lat) || isNaN(lng)) return null;\n    \n    return { lat, lng };\n  }\n}\n\n// Singleton instance\nexport const cepService = new CepService();\n\n// Hook personalizado para React\nexport function useCep() {\n  return {\n    buscarCep: cepService.buscarCep.bind(cepService),\n    buscarCepV2: cepService.buscarCepV2.bind(cepService),\n    validarCep: cepService.validarCep.bind(cepService),\n    formatarCep: cepService.formatarCep.bind(cepService),\n    montarEnderecoCompleto: cepService.montarEnderecoCompleto.bind(cepService),\n    temCoordenadas: cepService.temCoordenadas.bind(cepService),\n    obterCoordenadas: cepService.obterCoordenadas.bind(cepService),\n  };\n}\n\n// Utilitários para CEP\nexport const cepUtils = {\n  /**\n   * Estados brasileiros com suas siglas\n   */\n  estados: {\n    'AC': 'Acre',\n    'AL': 'Alagoas', \n    'AP': 'Amapá',\n    'AM': 'Amazonas',\n    'BA': 'Bahia',\n    'CE': 'Ceará',\n    'DF': 'Distrito Federal',\n    'ES': 'Espírito Santo',\n    'GO': 'Goiás',\n    'MA': 'Maranhão',\n    'MT': 'Mato Grosso',\n    'MS': 'Mato Grosso do Sul',\n    'MG': 'Minas Gerais',\n    'PA': 'Pará',\n    'PB': 'Paraíba',\n    'PR': 'Paraná',\n    'PE': 'Pernambuco',\n    'PI': 'Piauí',\n    'RJ': 'Rio de Janeiro',\n    'RN': 'Rio Grande do Norte',\n    'RS': 'Rio Grande do Sul',\n    'RO': 'Rondônia',\n    'RR': 'Roraima',\n    'SC': 'Santa Catarina',\n    'SP': 'São Paulo',\n    'SE': 'Sergipe',\n    'TO': 'Tocantins'\n  },\n\n  /**\n   * Obter nome completo do estado\n   */\n  nomeCompleto(sigla: string): string {\n    return this.estados[sigla as keyof typeof this.estados] || sigla;\n  },\n\n  /**\n   * Calcular distância aproximada entre dois pontos (fórmula de Haversine)\n   */\n  calcularDistancia(\n    coord1: { lat: number; lng: number },\n    coord2: { lat: number; lng: number }\n  ): number {\n    const R = 6371; // Raio da Terra em km\n    const dLat = this.toRad(coord2.lat - coord1.lat);\n    const dLng = this.toRad(coord2.lng - coord1.lng);\n    \n    const a = \n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(this.toRad(coord1.lat)) * Math.cos(this.toRad(coord2.lat)) *\n      Math.sin(dLng / 2) * Math.sin(dLng / 2);\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // Distância em km\n  },\n\n  /**\n   * Converter graus para radianos\n   */\n  toRad(valor: number): number {\n    return valor * (Math.PI / 180);\n  },\n\n  /**\n   * Gerar URL do Google Maps\n   */\n  gerarUrlMaps(endereco: EnderecoCep): string {\n    const enderecoCompleto = cepService.montarEnderecoCompleto(endereco);\n    return `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(enderecoCompleto)}`;\n  },\n\n  /**\n   * Verificar se CEP é de determinado estado\n   */\n  verificarEstado(cep: string, siglaEstado: string): boolean {\n    const cepLimpo = cep.replace(/\\D/g, '');\n    if (!cepService.validarCep(cepLimpo)) return false;\n    \n    // Faixas aproximadas de CEP por estado (simplificado)\n    const faixasCep: Record<string, string[]> = {\n      'SP': ['01000', '20000'],\n      'RJ': ['20000', '29000'],\n      'MG': ['30000', '40000'],\n      'BA': ['40000', '49000'],\n      'RS': ['90000', '100000'],\n      // Adicionar outras faixas conforme necessário\n    };\n    \n    const faixa = faixasCep[siglaEstado];\n    if (!faixa) return false;\n    \n    const cepNum = parseInt(cepLimpo.slice(0, 5));\n    const min = parseInt(faixa[0]);\n    const max = parseInt(faixa[1]);\n    \n    return cepNum >= min && cepNum < max;\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/lib/brasilapi/cnpj.ts"],"sourcesContent":["// Serviços de integração com CNPJ da BrasilAPI\n// Essencial para validação de clientes empresariais\n\nexport interface EmpresaCnpj {\n  cnpj: string;\n  identificador_matriz_filial: number;\n  descricao_matriz_filial: string;\n  razao_social: string;\n  nome_fantasia: string | null;\n  situacao_cadastral: number;\n  descricao_situacao_cadastral: string;\n  data_situacao_cadastral: string;\n  motivo_situacao_cadastral: number;\n  nome_cidade_exterior: string | null;\n  codigo_natureza_juridica: number;\n  data_inicio_atividade: string;\n  cnae_fiscal: number;\n  cnae_fiscal_descricao: string;\n  descricao_tipo_logradouro: string;\n  logradouro: string;\n  numero: string;\n  complemento: string | null;\n  bairro: string;\n  cep: string;\n  uf: string;\n  codigo_municipio: number;\n  municipio: string;\n  ddd_telefone_1: string | null;\n  telefone_1: string | null;\n  ddd_telefone_2: string | null;\n  telefone_2: string | null;\n  ddd_fax: string | null;\n  fax: string | null;\n  correio_eletronico: string | null;\n  qualificacao_do_responsavel: number;\n  capital_social: number;\n  porte: string;\n  descricao_porte: string;\n  opcao_pelo_simples: boolean;\n  data_opcao_pelo_simples: string | null;\n  data_exclusao_do_simples: string | null;\n  opcao_pelo_mei: boolean;\n  situacao_especial: string | null;\n  data_situacao_especial: string | null;\n  faturamento_presumido: number | null;\n  cnaes_secundarios: Array<{\n    codigo: number;\n    descricao: string;\n  }>;\n  qsa: Array<{\n    identificador_de_socio: number;\n    nome_socio: string;\n    cnpj_cpf_do_socio: string;\n    codigo_qualificacao_socio: number;\n    percentual_capital_social: number;\n    data_entrada_sociedade: string;\n    cpf_representante_legal: string | null;\n    nome_representante_legal: string | null;\n    codigo_qualificacao_representante_legal: number | null;\n  }>;\n}\n\nclass CnpjService {\n  private readonly baseUrl = 'https://brasilapi.com.br/api/cnpj/v1';\n\n  /**\n   * Consulta dados da empresa por CNPJ\n   */\n  async consultarCnpj(cnpj: string): Promise<EmpresaCnpj> {\n    const cnpjLimpo = this.limparCnpj(cnpj);\n    \n    if (!this.validarCnpj(cnpjLimpo)) {\n      throw new Error('CNPJ inválido. Use o formato 12345678000123');\n    }\n\n    try {\n      const response = await fetch(`${this.baseUrl}/${cnpjLimpo}`);\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          throw new Error('CNPJ não encontrado na Receita Federal');\n        }\n        throw new Error(`Erro ao consultar CNPJ: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Erro na consulta de CNPJ:', error);\n      if (error instanceof Error) {\n        throw error;\n      }\n      throw new Error('Falha ao consultar CNPJ');\n    }\n  }\n\n  /**\n   * Remove formatação do CNPJ\n   */\n  private limparCnpj(cnpj: string): string {\n    return cnpj.replace(/\\D/g, '');\n  }\n\n  /**\n   * Valida CNPJ usando algoritmo oficial\n   */\n  validarCnpj(cnpj: string): boolean {\n    const cnpjLimpo = this.limparCnpj(cnpj);\n    \n    if (cnpjLimpo.length !== 14) return false;\n    if (/^(\\d)\\1+$/.test(cnpjLimpo)) return false; // Todos os dígitos iguais\n    \n    // Calcular primeiro dígito verificador\n    let soma = 0;\n    let peso = 2;\n    \n    for (let i = 11; i >= 0; i--) {\n      soma += parseInt(cnpjLimpo[i]) * peso;\n      peso = peso === 9 ? 2 : peso + 1;\n    }\n    \n    const primeiroDigito = soma % 11 < 2 ? 0 : 11 - (soma % 11);\n    if (parseInt(cnpjLimpo[12]) !== primeiroDigito) return false;\n    \n    // Calcular segundo dígito verificador\n    soma = 0;\n    peso = 2;\n    \n    for (let i = 12; i >= 0; i--) {\n      soma += parseInt(cnpjLimpo[i]) * peso;\n      peso = peso === 9 ? 2 : peso + 1;\n    }\n    \n    const segundoDigito = soma % 11 < 2 ? 0 : 11 - (soma % 11);\n    return parseInt(cnpjLimpo[13]) === segundoDigito;\n  }\n\n  /**\n   * Formata CNPJ para exibição\n   */\n  formatarCnpj(cnpj: string): string {\n    const cnpjLimpo = this.limparCnpj(cnpj);\n    if (!this.validarCnpj(cnpjLimpo)) return cnpj;\n    \n    return cnpjLimpo.replace(\n      /^(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{2})$/,\n      '$1.$2.$3/$4-$5'\n    );\n  }\n\n  /**\n   * Monta endereço completo da empresa\n   */\n  montarEnderecoCompleto(empresa: EmpresaCnpj): string {\n    const partes = [\n      empresa.descricao_tipo_logradouro && empresa.logradouro \n        ? `${empresa.descricao_tipo_logradouro} ${empresa.logradouro}`\n        : empresa.logradouro,\n      empresa.numero,\n      empresa.complemento,\n      empresa.bairro,\n      empresa.municipio,\n      empresa.uf,\n      this.formatarCep(empresa.cep)\n    ].filter(Boolean);\n    \n    return partes.join(', ');\n  }\n\n  /**\n   * Formata CEP\n   */\n  private formatarCep(cep: string): string {\n    const cepLimpo = cep.replace(/\\D/g, '');\n    if (cepLimpo.length !== 8) return cep;\n    return `${cepLimpo.slice(0, 5)}-${cepLimpo.slice(5)}`;\n  }\n\n  /**\n   * Verifica se a empresa está ativa\n   */\n  isEmpresaAtiva(empresa: EmpresaCnpj): boolean {\n    return empresa.situacao_cadastral === 2; // 2 = ATIVA\n  }\n\n  /**\n   * Verifica se a empresa é MEI\n   */\n  isEmpresaMEI(empresa: EmpresaCnpj): boolean {\n    return empresa.opcao_pelo_mei;\n  }\n\n  /**\n   * Verifica se a empresa é do Simples Nacional\n   */\n  isEmpresaSimples(empresa: EmpresaCnpj): boolean {\n    return empresa.opcao_pelo_simples;\n  }\n\n  /**\n   * Obter telefone principal formatado\n   */\n  obterTelefonePrincipal(empresa: EmpresaCnpj): string | null {\n    if (!empresa.ddd_telefone_1 || !empresa.telefone_1) return null;\n    \n    const ddd = empresa.ddd_telefone_1;\n    const telefone = empresa.telefone_1;\n    \n    // Formatar telefone baseado no tamanho\n    if (telefone.length === 8) {\n      return `(${ddd}) ${telefone.slice(0, 4)}-${telefone.slice(4)}`;\n    } else if (telefone.length === 9) {\n      return `(${ddd}) ${telefone.slice(0, 5)}-${telefone.slice(5)}`;\n    }\n    \n    return `(${ddd}) ${telefone}`;\n  }\n\n  /**\n   * Obter idade da empresa em anos\n   */\n  obterIdadeEmpresa(empresa: EmpresaCnpj): number {\n    const dataInicio = new Date(empresa.data_inicio_atividade);\n    const hoje = new Date();\n    const diffTime = Math.abs(hoje.getTime() - dataInicio.getTime());\n    const diffYears = Math.floor(diffTime / (1000 * 60 * 60 * 24 * 365));\n    return diffYears;\n  }\n\n  /**\n   * Formatar capital social\n   */\n  formatarCapitalSocial(valor: number): string {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(valor);\n  }\n\n  /**\n   * Obter sócios principais (com maior participação)\n   */\n  obterSociosPrincipais(empresa: EmpresaCnpj, limite: number = 3): Array<{\n    nome: string;\n    participacao: number;\n    cpfCnpj: string;\n  }> {\n    return empresa.qsa\n      .sort((a, b) => b.percentual_capital_social - a.percentual_capital_social)\n      .slice(0, limite)\n      .map(socio => ({\n        nome: socio.nome_socio,\n        participacao: socio.percentual_capital_social,\n        cpfCnpj: socio.cnpj_cpf_do_socio\n      }));\n  }\n}\n\n// Singleton instance\nexport const cnpjService = new CnpjService();\n\n// Hook personalizado para React\nexport function useCnpj() {\n  return {\n    consultarCnpj: cnpjService.consultarCnpj.bind(cnpjService),\n    validarCnpj: cnpjService.validarCnpj.bind(cnpjService),\n    formatarCnpj: cnpjService.formatarCnpj.bind(cnpjService),\n    montarEnderecoCompleto: cnpjService.montarEnderecoCompleto.bind(cnpjService),\n    isEmpresaAtiva: cnpjService.isEmpresaAtiva.bind(cnpjService),\n    isEmpresaMEI: cnpjService.isEmpresaMEI.bind(cnpjService),\n    isEmpresaSimples: cnpjService.isEmpresaSimples.bind(cnpjService),\n    obterTelefonePrincipal: cnpjService.obterTelefonePrincipal.bind(cnpjService),\n    obterIdadeEmpresa: cnpjService.obterIdadeEmpresa.bind(cnpjService),\n    formatarCapitalSocial: cnpjService.formatarCapitalSocial.bind(cnpjService),\n    obterSociosPrincipais: cnpjService.obterSociosPrincipais.bind(cnpjService),\n  };\n}\n\n// Utilitários CNPJ\nexport const cnpjUtils = {\n  /**\n   * Tipos de situação cadastral\n   */\n  situacoesCadastrais: {\n    1: 'NULA',\n    2: 'ATIVA',\n    3: 'SUSPENSA',\n    4: 'INAPTA',\n    8: 'BAIXADA'\n  },\n\n  /**\n   * Obter descrição da situação\n   */\n  obterSituacao(codigo: number): string {\n    return this.situacoesCadastrais[codigo as keyof typeof this.situacoesCadastrais] || 'DESCONHECIDA';\n  },\n\n  /**\n   * Obter cor da situação para UI\n   */\n  obterCorSituacao(codigo: number): string {\n    const cores = {\n      1: 'red',    // NULA\n      2: 'green',  // ATIVA\n      3: 'yellow', // SUSPENSA\n      4: 'orange', // INAPTA\n      8: 'red'     // BAIXADA\n    };\n    return cores[codigo as keyof typeof cores] || 'gray';\n  },\n\n  /**\n   * Gerar resumo da empresa\n   */\n  gerarResumo(empresa: EmpresaCnpj): {\n    nomeExibicao: string;\n    situacao: string;\n    corSituacao: string;\n    endereco: string;\n    telefone: string | null;\n    idade: number;\n    porte: string;\n  } {\n    return {\n      nomeExibicao: empresa.nome_fantasia || empresa.razao_social,\n      situacao: empresa.descricao_situacao_cadastral,\n      corSituacao: this.obterCorSituacao(empresa.situacao_cadastral),\n      endereco: cnpjService.montarEnderecoCompleto(empresa),\n      telefone: cnpjService.obterTelefonePrincipal(empresa),\n      idade: cnpjService.obterIdadeEmpresa(empresa),\n      porte: empresa.descricao_porte\n    };\n  }\n};\n"],"names":[],"mappings":"AAAA,+CAA+C;AAC/C,oDAAoD;;;;;;AA6DpD,MAAM;IACa,UAAU,uCAAuC;IAElE;;GAEC,GACD,MAAM,cAAc,IAAY,EAAwB;QACtD,MAAM,YAAY,IAAI,CAAC,UAAU,CAAC;QAElC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY;YAChC,MAAM,IAAI,MAAM;QAClB;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,EAAE,WAAW;YAE3D,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,IAAI,SAAS,MAAM,KAAK,KAAK;oBAC3B,MAAM,IAAI,MAAM;gBAClB;gBACA,MAAM,IAAI,MAAM,CAAC,wBAAwB,EAAE,SAAS,UAAU,EAAE;YAClE;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,IAAI,iBAAiB,OAAO;gBAC1B,MAAM;YACR;YACA,MAAM,IAAI,MAAM;QAClB;IACF;IAEA;;GAEC,GACD,AAAQ,WAAW,IAAY,EAAU;QACvC,OAAO,KAAK,OAAO,CAAC,OAAO;IAC7B;IAEA;;GAEC,GACD,YAAY,IAAY,EAAW;QACjC,MAAM,YAAY,IAAI,CAAC,UAAU,CAAC;QAElC,IAAI,UAAU,MAAM,KAAK,IAAI,OAAO;QACpC,IAAI,YAAY,IAAI,CAAC,YAAY,OAAO,OAAO,0BAA0B;QAEzE,uCAAuC;QACvC,IAAI,OAAO;QACX,IAAI,OAAO;QAEX,IAAK,IAAI,IAAI,IAAI,KAAK,GAAG,IAAK;YAC5B,QAAQ,SAAS,SAAS,CAAC,EAAE,IAAI;YACjC,OAAO,SAAS,IAAI,IAAI,OAAO;QACjC;QAEA,MAAM,iBAAiB,OAAO,KAAK,IAAI,IAAI,KAAM,OAAO;QACxD,IAAI,SAAS,SAAS,CAAC,GAAG,MAAM,gBAAgB,OAAO;QAEvD,sCAAsC;QACtC,OAAO;QACP,OAAO;QAEP,IAAK,IAAI,IAAI,IAAI,KAAK,GAAG,IAAK;YAC5B,QAAQ,SAAS,SAAS,CAAC,EAAE,IAAI;YACjC,OAAO,SAAS,IAAI,IAAI,OAAO;QACjC;QAEA,MAAM,gBAAgB,OAAO,KAAK,IAAI,IAAI,KAAM,OAAO;QACvD,OAAO,SAAS,SAAS,CAAC,GAAG,MAAM;IACrC;IAEA;;GAEC,GACD,aAAa,IAAY,EAAU;QACjC,MAAM,YAAY,IAAI,CAAC,UAAU,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,YAAY,OAAO;QAEzC,OAAO,UAAU,OAAO,CACtB,yCACA;IAEJ;IAEA;;GAEC,GACD,uBAAuB,OAAoB,EAAU;QACnD,MAAM,SAAS;YACb,QAAQ,yBAAyB,IAAI,QAAQ,UAAU,GACnD,GAAG,QAAQ,yBAAyB,CAAC,CAAC,EAAE,QAAQ,UAAU,EAAE,GAC5D,QAAQ,UAAU;YACtB,QAAQ,MAAM;YACd,QAAQ,WAAW;YACnB,QAAQ,MAAM;YACd,QAAQ,SAAS;YACjB,QAAQ,EAAE;YACV,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG;SAC7B,CAAC,MAAM,CAAC;QAET,OAAO,OAAO,IAAI,CAAC;IACrB;IAEA;;GAEC,GACD,AAAQ,YAAY,GAAW,EAAU;QACvC,MAAM,WAAW,IAAI,OAAO,CAAC,OAAO;QACpC,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;QAClC,OAAO,GAAG,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,SAAS,KAAK,CAAC,IAAI;IACvD;IAEA;;GAEC,GACD,eAAe,OAAoB,EAAW;QAC5C,OAAO,QAAQ,kBAAkB,KAAK,GAAG,YAAY;IACvD;IAEA;;GAEC,GACD,aAAa,OAAoB,EAAW;QAC1C,OAAO,QAAQ,cAAc;IAC/B;IAEA;;GAEC,GACD,iBAAiB,OAAoB,EAAW;QAC9C,OAAO,QAAQ,kBAAkB;IACnC;IAEA;;GAEC,GACD,uBAAuB,OAAoB,EAAiB;QAC1D,IAAI,CAAC,QAAQ,cAAc,IAAI,CAAC,QAAQ,UAAU,EAAE,OAAO;QAE3D,MAAM,MAAM,QAAQ,cAAc;QAClC,MAAM,WAAW,QAAQ,UAAU;QAEnC,uCAAuC;QACvC,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,SAAS,KAAK,CAAC,IAAI;QAChE,OAAO,IAAI,SAAS,MAAM,KAAK,GAAG;YAChC,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,SAAS,KAAK,CAAC,IAAI;QAChE;QAEA,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,UAAU;IAC/B;IAEA;;GAEC,GACD,kBAAkB,OAAoB,EAAU;QAC9C,MAAM,aAAa,IAAI,KAAK,QAAQ,qBAAqB;QACzD,MAAM,OAAO,IAAI;QACjB,MAAM,WAAW,KAAK,GAAG,CAAC,KAAK,OAAO,KAAK,WAAW,OAAO;QAC7D,MAAM,YAAY,KAAK,KAAK,CAAC,WAAW,CAAC,OAAO,KAAK,KAAK,KAAK,GAAG;QAClE,OAAO;IACT;IAEA;;GAEC,GACD,sBAAsB,KAAa,EAAU;QAC3C,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;QACZ,GAAG,MAAM,CAAC;IACZ;IAEA;;GAEC,GACD,sBAAsB,OAAoB,EAAE,SAAiB,CAAC,EAI3D;QACD,OAAO,QAAQ,GAAG,CACf,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,yBAAyB,GAAG,EAAE,yBAAyB,EACxE,KAAK,CAAC,GAAG,QACT,GAAG,CAAC,CAAA,QAAS,CAAC;gBACb,MAAM,MAAM,UAAU;gBACtB,cAAc,MAAM,yBAAyB;gBAC7C,SAAS,MAAM,iBAAiB;YAClC,CAAC;IACL;AACF;AAGO,MAAM,cAAc,IAAI;AAGxB,SAAS;IACd,OAAO;QACL,eAAe,YAAY,aAAa,CAAC,IAAI,CAAC;QAC9C,aAAa,YAAY,WAAW,CAAC,IAAI,CAAC;QAC1C,cAAc,YAAY,YAAY,CAAC,IAAI,CAAC;QAC5C,wBAAwB,YAAY,sBAAsB,CAAC,IAAI,CAAC;QAChE,gBAAgB,YAAY,cAAc,CAAC,IAAI,CAAC;QAChD,cAAc,YAAY,YAAY,CAAC,IAAI,CAAC;QAC5C,kBAAkB,YAAY,gBAAgB,CAAC,IAAI,CAAC;QACpD,wBAAwB,YAAY,sBAAsB,CAAC,IAAI,CAAC;QAChE,mBAAmB,YAAY,iBAAiB,CAAC,IAAI,CAAC;QACtD,uBAAuB,YAAY,qBAAqB,CAAC,IAAI,CAAC;QAC9D,uBAAuB,YAAY,qBAAqB,CAAC,IAAI,CAAC;IAChE;AACF;AAGO,MAAM,YAAY;IACvB;;GAEC,GACD,qBAAqB;QACnB,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACL;IAEA;;GAEC,GACD,eAAc,MAAc;QAC1B,OAAO,IAAI,CAAC,mBAAmB,CAAC,OAAgD,IAAI;IACtF;IAEA;;GAEC,GACD,kBAAiB,MAAc;QAC7B,MAAM,QAAQ;YACZ,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG;YACH,GAAG,MAAU,UAAU;QACzB;QACA,OAAO,KAAK,CAAC,OAA6B,IAAI;IAChD;IAEA;;GAEC,GACD,aAAY,OAAoB;QAS9B,OAAO;YACL,cAAc,QAAQ,aAAa,IAAI,QAAQ,YAAY;YAC3D,UAAU,QAAQ,4BAA4B;YAC9C,aAAa,IAAI,CAAC,gBAAgB,CAAC,QAAQ,kBAAkB;YAC7D,UAAU,YAAY,sBAAsB,CAAC;YAC7C,UAAU,YAAY,sBAAsB,CAAC;YAC7C,OAAO,YAAY,iBAAiB,CAAC;YACrC,OAAO,QAAQ,eAAe;QAChC;IACF;AACF","debugId":null}},
    {"offset": {"line": 710, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/lib/brasilapi/cpf.ts"],"sourcesContent":["// Serviços de validação e formatação de CPF\n// Essencial para validação de dados de clientes\n\nexport interface CpfValidacao {\n  valido: boolean;\n  formatado: string;\n  limpo: string;\n  erro?: string;\n}\n\nexport interface CpfInfo {\n  cpf: string;\n  valido: boolean;\n  formatado: string;\n  estado?: string;\n  regiao?: string;\n  digito1: number;\n  digito2: number;\n}\n\nclass CpfService {\n  /**\n   * Valida CPF usando algoritmo oficial\n   */\n  validar(cpf: string): CpfValidacao {\n    const cpfLimpo = this.limparCpf(cpf);\n    \n    // Validações básicas\n    if (!cpfLimpo) {\n      return {\n        valido: false,\n        formatado: '',\n        limpo: '',\n        erro: 'CPF não informado'\n      };\n    }\n\n    if (cpfLimpo.length !== 11) {\n      return {\n        valido: false,\n        formatado: cpf,\n        limpo: cpfLimpo,\n        erro: 'CPF deve ter 11 dígitos'\n      };\n    }\n\n    // Verifica se todos os dígitos são iguais\n    if (this.todosDigitosIguais(cpfLimpo)) {\n      return {\n        valido: false,\n        formatado: this.formatarCpf(cpfLimpo),\n        limpo: cpfLimpo,\n        erro: 'CPF inválido: todos os dígitos são iguais'\n      };\n    }\n\n    // Validação dos dígitos verificadores\n    const valido = this.calcularDigitoVerificador(cpfLimpo);\n    \n    return {\n      valido,\n      formatado: this.formatarCpf(cpfLimpo),\n      limpo: cpfLimpo,\n      erro: valido ? undefined : 'CPF inválido: dígitos verificadores incorretos'\n    };\n  }\n\n  /**\n   * Formata CPF para exibição (000.000.000-00)\n   */\n  formatarCpf(cpf: string): string {\n    const cpfLimpo = this.limparCpf(cpf);\n    \n    if (cpfLimpo.length !== 11) {\n      return cpf; // Retorna como recebido se inválido\n    }\n\n    return cpfLimpo.replace(/(\\d{3})(\\d{3})(\\d{3})(\\d{2})/, '$1.$2.$3-$4');\n  }\n\n  /**\n   * Remove formatação do CPF\n   */\n  limparCpf(cpf: string): string {\n    return cpf.replace(/\\D/g, '');\n  }\n\n  /**\n   * Gera CPF válido para testes (NUNCA usar em produção real)\n   */\n  gerarCpfTeste(): string {\n    // Gera os 9 primeiros dígitos\n    const primeiros9 = Array.from({length: 9}, () => \n      Math.floor(Math.random() * 10)\n    );\n\n    // Calcula os dígitos verificadores\n    const cpfParcial = primeiros9.join('');\n    const digito1 = this.calcularPrimeiroDigito(cpfParcial);\n    const digito2 = this.calcularSegundoDigito(cpfParcial + digito1);\n\n    const cpfCompleto = cpfParcial + digito1 + digito2;\n    return this.formatarCpf(cpfCompleto);\n  }\n\n  /**\n   * Obtém informações detalhadas do CPF\n   */\n  obterInfo(cpf: string): CpfInfo {\n    const validacao = this.validar(cpf);\n    const cpfLimpo = validacao.limpo;\n\n    if (!validacao.valido) {\n      return {\n        cpf: validacao.formatado,\n        valido: false,\n        formatado: validacao.formatado,\n        digito1: 0,\n        digito2: 0\n      };\n    }\n\n    // Determina estado baseado no 9º dígito (região fiscal)\n    const estadoInfo = this.obterEstadoPorDigito(parseInt(cpfLimpo[8]));\n\n    return {\n      cpf: cpfLimpo,\n      valido: true,\n      formatado: validacao.formatado,\n      estado: estadoInfo.estado,\n      regiao: estadoInfo.regiao,\n      digito1: parseInt(cpfLimpo[9]),\n      digito2: parseInt(cpfLimpo[10])\n    };\n  }\n\n  /**\n   * Verifica se todos os dígitos são iguais\n   */\n  private todosDigitosIguais(cpf: string): boolean {\n    return cpf.split('').every(digito => digito === cpf[0]);\n  }\n\n  /**\n   * Calcula e verifica os dígitos verificadores\n   */\n  private calcularDigitoVerificador(cpf: string): boolean {\n    const primeiros9 = cpf.substring(0, 9);\n    const digito1Calculado = this.calcularPrimeiroDigito(primeiros9);\n    const digito2Calculado = this.calcularSegundoDigito(primeiros9 + digito1Calculado);\n\n    const digito1Informado = parseInt(cpf[9]);\n    const digito2Informado = parseInt(cpf[10]);\n\n    return digito1Calculado === digito1Informado && digito2Calculado === digito2Informado;\n  }\n\n  /**\n   * Calcula o primeiro dígito verificador\n   */\n  private calcularPrimeiroDigito(primeiros9: string): number {\n    let soma = 0;\n    for (let i = 0; i < 9; i++) {\n      soma += parseInt(primeiros9[i]) * (10 - i);\n    }\n    \n    const resto = soma % 11;\n    return resto < 2 ? 0 : 11 - resto;\n  }\n\n  /**\n   * Calcula o segundo dígito verificador\n   */\n  private calcularSegundoDigito(primeiros10: string): number {\n    let soma = 0;\n    for (let i = 0; i < 10; i++) {\n      soma += parseInt(primeiros10[i]) * (11 - i);\n    }\n    \n    const resto = soma % 11;\n    return resto < 2 ? 0 : 11 - resto;\n  }\n\n  /**\n   * Determina estado baseado no dígito da região fiscal\n   */\n  private obterEstadoPorDigito(digito: number): { estado: string; regiao: string } {\n    const regioes = {\n      0: { estado: 'RS', regiao: 'Rio Grande do Sul' },\n      1: { estado: 'DF/GO/MS/TO', regiao: 'Distrito Federal, Goiás, Mato Grosso do Sul, Tocantins' },\n      2: { estado: 'AC/AM/AP/PA/RO/RR', regiao: 'Acre, Amazonas, Amapá, Pará, Rondônia, Roraima' },\n      3: { estado: 'CE/MA/PI', regiao: 'Ceará, Maranhão, Piauí' },\n      4: { estado: 'AL/PB/PE/RN', regiao: 'Alagoas, Paraíba, Pernambuco, Rio Grande do Norte' },\n      5: { estado: 'BA/SE', regiao: 'Bahia, Sergipe' },\n      6: { estado: 'MG', regiao: 'Minas Gerais' },\n      7: { estado: 'ES/RJ', regiao: 'Espírito Santo, Rio de Janeiro' },\n      8: { estado: 'SP', regiao: 'São Paulo' },\n      9: { estado: 'PR/SC', regiao: 'Paraná, Santa Catarina' }\n    };\n\n    return regioes[digito as keyof typeof regioes] || { estado: 'Desconhecido', regiao: 'Região não identificada' };\n  }\n\n  /**\n   * Validação em tempo real para formulários\n   */\n  validarEmTempoReal(cpf: string): {\n    status: 'vazio' | 'incompleto' | 'invalido' | 'valido';\n    mensagem: string;\n    formatado: string;\n  } {\n    const cpfLimpo = this.limparCpf(cpf);\n\n    if (!cpfLimpo) {\n      return {\n        status: 'vazio',\n        mensagem: 'Digite o CPF',\n        formatado: ''\n      };\n    }\n\n    if (cpfLimpo.length < 11) {\n      return {\n        status: 'incompleto',\n        mensagem: `${cpfLimpo.length}/11 dígitos`,\n        formatado: this.formatarCpf(cpfLimpo)\n      };\n    }\n\n    const validacao = this.validar(cpfLimpo);\n    \n    return {\n      status: validacao.valido ? 'valido' : 'invalido',\n      mensagem: validacao.valido ? 'CPF válido' : (validacao.erro || 'CPF inválido'),\n      formatado: validacao.formatado\n    };\n  }\n}\n\n// Singleton instance\nexport const cpfService = new CpfService();\n\n// Hook para React\nexport function useCpf() {\n  return {\n    validar: cpfService.validar.bind(cpfService),\n    formatarCpf: cpfService.formatarCpf.bind(cpfService),\n    limparCpf: cpfService.limparCpf.bind(cpfService),\n    obterInfo: cpfService.obterInfo.bind(cpfService),\n    validarEmTempoReal: cpfService.validarEmTempoReal.bind(cpfService),\n    gerarCpfTeste: cpfService.gerarCpfTeste.bind(cpfService)\n  };\n}\n\n// Utilitários adicionais\nexport const cpfUtils = {\n  /**\n   * Máscara para input de CPF\n   */\n  aplicarMascara(valor: string): string {\n    return cpfService.formatarCpf(valor);\n  },\n\n  /**\n   * Validação rápida (apenas boolean)\n   */\n  ehValido(cpf: string): boolean {\n    return cpfService.validar(cpf).valido;\n  },\n\n  /**\n   * Lista de CPFs inválidos conhecidos\n   */\n  cpfsInvalidosConhecidos: [\n    '00000000000', '11111111111', '22222222222', '33333333333',\n    '44444444444', '55555555555', '66666666666', '77777777777',\n    '88888888888', '99999999999', '12345678909', '11144477735'\n  ],\n\n  /**\n   * Verifica se é um CPF de teste/inválido conhecido\n   */\n  ehCpfTeste(cpf: string): boolean {\n    const cpfLimpo = cpfService.limparCpf(cpf);\n    return this.cpfsInvalidosConhecidos.includes(cpfLimpo);\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/lib/brasilapi/fipe.ts"],"sourcesContent":["// Serviços de integração com a API FIPE da BrasilAPI\n// Essencial para consultoria veicular - consulta de preços de mercado\n\nexport interface MarcaFipe {\n  nome: string;\n  codigo: string;\n}\n\nexport interface VeiculoFipe {\n  nome: string;\n  codigo: string;\n  codigoFipe: string;\n}\n\nexport interface PrecoFipe {\n  valor: string;\n  marca: string;\n  modelo: string;\n  anoModelo: number;\n  combustivel: string;\n  codigoFipe: string;\n  mesReferencia: string;\n  tipoVeiculo: number;\n  siglaCombustivel: string;\n  dataConsulta: string;\n}\n\nexport interface TabelaFipe {\n  codigo: number;\n  mes: string;\n}\n\nexport type TipoVeiculo = 'carros' | 'motos' | 'caminhoes';\n\nclass FipeService {\n  private readonly baseUrl = 'https://brasilapi.com.br/api/fipe';\n\n  /**\n   * Busca todas as marcas por tipo de veículo\n   */\n  async getMarcas(tipoVeiculo: TipoVeiculo, tabelaReferencia?: number): Promise<MarcaFipe[]> {\n    try {\n      const params = new URLSearchParams();\n      if (tabelaReferencia) {\n        params.append('tabela_referencia', tabelaReferencia.toString());\n      }\n      \n      const url = `${this.baseUrl}/marcas/v1/${tipoVeiculo}${params.toString() ? `?${params}` : ''}`;\n      const response = await fetch(url);\n      \n      if (!response.ok) {\n        throw new Error(`Erro ao buscar marcas: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de marcas FIPE:', error);\n      throw new Error('Falha ao consultar marcas na tabela FIPE');\n    }\n  }\n\n  /**\n   * Busca veículos por marca e tipo\n   */\n  async getVeiculos(\n    tipoVeiculo: TipoVeiculo, \n    codigoMarca: string, \n    tabelaReferencia?: number\n  ): Promise<VeiculoFipe[]> {\n    try {\n      const params = new URLSearchParams();\n      if (tabelaReferencia) {\n        params.append('tabela_referencia', tabelaReferencia.toString());\n      }\n      \n      const url = `${this.baseUrl}/veiculos/v1/${tipoVeiculo}/${codigoMarca}${params.toString() ? `?${params}` : ''}`;\n      const response = await fetch(url);\n      \n      if (!response.ok) {\n        throw new Error(`Erro ao buscar veículos: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de veículos FIPE:', error);\n      throw new Error('Falha ao consultar veículos na tabela FIPE');\n    }\n  }\n\n  /**\n   * Consulta preço específico por código FIPE\n   */\n  async getPreco(codigoFipe: string, tabelaReferencia?: number): Promise<PrecoFipe[]> {\n    try {\n      const params = new URLSearchParams();\n      if (tabelaReferencia) {\n        params.append('tabela_referencia', tabelaReferencia.toString());\n      }\n      \n      const url = `${this.baseUrl}/preco/v1/${codigoFipe}${params.toString() ? `?${params}` : ''}`;\n      const response = await fetch(url);\n      \n      if (!response.ok) {\n        throw new Error(`Erro ao buscar preço: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de preço FIPE:', error);\n      throw new Error('Falha ao consultar preço na tabela FIPE');\n    }\n  }\n\n  /**\n   * Lista todas as tabelas de referência disponíveis\n   */\n  async getTabelas(): Promise<TabelaFipe[]> {\n    try {\n      const url = `${this.baseUrl}/tabelas/v1`;\n      const response = await fetch(url);\n      \n      if (!response.ok) {\n        throw new Error(`Erro ao buscar tabelas: ${response.statusText}`);\n      }\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Erro na consulta de tabelas FIPE:', error);\n      throw new Error('Falha ao consultar tabelas FIPE');\n    }\n  }\n\n  /**\n   * Busca completa: marca -> veículo -> preço\n   * Útil para fluxos completos de consulta\n   */\n  async getBuscaCompleta(\n    tipoVeiculo: TipoVeiculo,\n    nomeMarca: string,\n    nomeVeiculo: string\n  ): Promise<{\n    marca: MarcaFipe | null;\n    veiculo: VeiculoFipe | null;\n    preco: PrecoFipe[] | null;\n  }> {\n    try {\n      // 1. Buscar marcas\n      const marcas = await this.getMarcas(tipoVeiculo);\n      const marca = marcas.find(m => \n        m.nome.toLowerCase().includes(nomeMarca.toLowerCase())\n      );\n      \n      if (!marca) {\n        return { marca: null, veiculo: null, preco: null };\n      }\n\n      // 2. Buscar veículos da marca\n      const veiculos = await this.getVeiculos(tipoVeiculo, marca.codigo);\n      const veiculo = veiculos.find(v => \n        v.nome.toLowerCase().includes(nomeVeiculo.toLowerCase())\n      );\n      \n      if (!veiculo) {\n        return { marca, veiculo: null, preco: null };\n      }\n\n      // 3. Buscar preço do veículo\n      const preco = await this.getPreco(veiculo.codigoFipe);\n      \n      return { marca, veiculo, preco };\n      \n    } catch (error) {\n      console.error('Erro na busca completa FIPE:', error);\n      throw new Error('Falha na consulta completa FIPE');\n    }\n  }\n\n  /**\n   * Formata valor monetário da FIPE\n   */\n  formatarValor(valor: string): string {\n    // Remove \"R$ \" e formata para número\n    const numeroLimpo = valor.replace(/[^\\d,]/g, '').replace(',', '.');\n    const numero = parseFloat(numeroLimpo);\n    \n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(numero);\n  }\n\n  /**\n   * Extrai apenas o valor numérico\n   */\n  extrairValorNumerico(valor: string): number {\n    const numeroLimpo = valor.replace(/[^\\d,]/g, '').replace(',', '.');\n    return parseFloat(numeroLimpo) || 0;\n  }\n}\n\n// Singleton instance\nexport const fipeService = new FipeService();\n\n// Hook personalizado para React (se usando)\nexport function useFipe() {\n  return {\n    getMarcas: fipeService.getMarcas.bind(fipeService),\n    getVeiculos: fipeService.getVeiculos.bind(fipeService),\n    getPreco: fipeService.getPreco.bind(fipeService),\n    getTabelas: fipeService.getTabelas.bind(fipeService),\n    getBuscaCompleta: fipeService.getBuscaCompleta.bind(fipeService),\n    formatarValor: fipeService.formatarValor.bind(fipeService),\n    extrairValorNumerico: fipeService.extrairValorNumerico.bind(fipeService),\n  };\n}\n\n// Utilitários adicionais\nexport const fipeUtils = {\n  /**\n   * Converte tipo de veículo para exibição\n   */\n  tipoVeiculoParaTexto(tipo: TipoVeiculo): string {\n    const tipos = {\n      carros: 'Automóveis',\n      motos: 'Motocicletas',\n      caminhoes: 'Caminhões'\n    };\n    return tipos[tipo];\n  },\n\n  /**\n   * Valida código FIPE\n   */\n  validarCodigoFipe(codigo: string): boolean {\n    // Código FIPE geralmente tem formato XXX-XXX-XX\n    const regex = /^\\d{3}-\\d{3}-\\d{2}$/;\n    return regex.test(codigo);\n  },\n\n  /**\n   * Calcula depreciação baseada no ano\n   */\n  calcularDepreciacao(valorAtual: number, anoVeiculo: number): {\n    valorEstimado: number;\n    percentualDepreciacao: number;\n  } {\n    const anoAtual = new Date().getFullYear();\n    const idadeVeiculo = anoAtual - anoVeiculo;\n    \n    // Estimativa simples: 10% ao ano (pode ser ajustada)\n    const percentualDepreciacao = Math.min(idadeVeiculo * 0.1, 0.8); // Max 80%\n    const valorEstimado = valorAtual * (1 - percentualDepreciacao);\n    \n    return {\n      valorEstimado: Math.round(valorEstimado),\n      percentualDepreciacao: Math.round(percentualDepreciacao * 100)\n    };\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1155, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/lib/brasilapi/index.ts"],"sourcesContent":["// Integração unificada com Brasil API - Todos os serviços essenciais\n// Centraliza todos os serviços de dados brasileiros necessários para o sistema\n\nimport { cepService } from './cep';\nimport { cnpjService } from './cnpj';\nimport { cpfService, type CpfInfo, type CpfValidacao } from './cpf';\nimport { fipeService, type PrecoFipe, type MarcaFipe, type VeiculoFipe, type TipoVeiculo } from './fipe';\nimport { \n  type EnderecoCep, \n  type EmpresaCnpj \n} from './types';\n\n// Tipos unificados para respostas\nexport interface ValidacaoCompleta {\n  tipo: 'cep' | 'cpf' | 'cnpj';\n  valido: boolean;\n  formatado: string;\n  dados?: any;\n  erro?: string;\n}\n\nexport interface ConsultaVeicular {\n  marca: MarcaFipe | null;\n  veiculo: VeiculoFipe | null;\n  preco: PrecoFipe[] | null;\n  valorFormatado?: string;\n  valorNumerico?: number;\n}\n\nexport interface DadosCliente {\n  cpf?: CpfInfo;\n  cnpj?: EmpresaCnpj;\n  endereco?: EnderecoCep;\n  valido: boolean;\n  erros: string[];\n}\n\nclass BrasilApiService {\n  // Instâncias dos serviços\n  public readonly cep = cepService;\n  public readonly cnpj = cnpjService;\n  public readonly cpf = cpfService;\n  public readonly fipe = fipeService;\n\n  /**\n   * Validação unificada - detecta tipo automaticamente\n   */\n  async validarDado(valor: string): Promise<ValidacaoCompleta> {\n    const valorLimpo = valor.replace(/\\D/g, '');\n\n    try {\n      // Detecta tipo baseado no comprimento\n      if (valorLimpo.length === 8) {\n        // CEP\n        try {\n          const resultado = await this.cep.buscarCep(valor);\n          return {\n            tipo: 'cep',\n            valido: true,\n            formatado: this.cep.formatarCep(valor),\n            dados: resultado\n          };\n        } catch (error) {\n          return {\n            tipo: 'cep',\n            valido: false,\n            formatado: this.cep.formatarCep(valor),\n            erro: `Erro ao buscar CEP: ${error instanceof Error ? error.message : 'Erro desconhecido'}`\n          };\n        }\n      } else if (valorLimpo.length === 11) {\n        // CPF\n        const resultado = this.cpf.validar(valor);\n        return {\n          tipo: 'cpf',\n          valido: resultado.valido,\n          formatado: resultado.formatado,\n          dados: resultado.valido ? this.cpf.obterInfo(valor) : null,\n          erro: resultado.erro\n        };\n      } else if (valorLimpo.length === 14) {\n        // CNPJ\n        const valido = this.cnpj.validarCnpj(valor);\n        const formatado = this.cnpj.formatarCnpj(valor);\n        \n        if (valido) {\n          try {\n            const empresa = await this.cnpj.consultarCnpj(valor);\n            return {\n              tipo: 'cnpj',\n              valido: true,\n              formatado,\n              dados: empresa\n            };\n          } catch (error) {\n            return {\n              tipo: 'cnpj',\n              valido: false,\n              formatado,\n              erro: `Erro ao buscar dados da empresa: ${error instanceof Error ? error.message : 'Erro desconhecido'}`\n            };\n          }\n        } else {\n          return {\n            tipo: 'cnpj',\n            valido: false,\n            formatado,\n            erro: 'CNPJ inválido'\n          };\n        }\n      } else {\n        return {\n          tipo: 'cep', // default\n          valido: false,\n          formatado: valor,\n          erro: 'Formato não reconhecido. Use CEP (8 dígitos), CPF (11 dígitos) ou CNPJ (14 dígitos)'\n        };\n      }\n    } catch (error) {\n      return {\n        tipo: 'cep', // default\n        valido: false,\n        formatado: valor,\n        erro: `Erro na validação: ${error instanceof Error ? error.message : 'Erro desconhecido'}`\n      };\n    }\n  }\n\n  /**\n   * Validação completa de dados do cliente\n   */\n  async validarCliente(dados: {\n    cpf?: string;\n    cnpj?: string;\n    cep?: string;\n  }): Promise<DadosCliente> {\n    const resultado: DadosCliente = {\n      valido: true,\n      erros: []\n    };\n\n    try {\n      // Validar CPF se fornecido\n      if (dados.cpf) {\n        const cpfValidacao = this.cpf.validar(dados.cpf);\n        if (cpfValidacao.valido) {\n          resultado.cpf = this.cpf.obterInfo(dados.cpf);\n        } else {\n          resultado.erros.push(`CPF: ${cpfValidacao.erro}`);\n          resultado.valido = false;\n        }\n      }\n\n      // Validar CNPJ se fornecido\n      if (dados.cnpj) {\n        const cnpjValido = this.cnpj.validarCnpj(dados.cnpj);\n        if (cnpjValido) {\n          try {\n            const empresaInfo = await this.cnpj.consultarCnpj(dados.cnpj);\n            resultado.cnpj = empresaInfo;\n          } catch (error) {\n            resultado.erros.push(`CNPJ: Erro ao buscar dados da empresa`);\n            resultado.valido = false;\n          }\n        } else {\n          resultado.erros.push(`CNPJ: CNPJ inválido`);\n          resultado.valido = false;\n        }\n      }\n\n      // Validar CEP se fornecido\n      if (dados.cep) {\n        try {\n          const cepInfo = await this.cep.buscarCep(dados.cep);\n          resultado.endereco = cepInfo;\n        } catch (error) {\n          resultado.erros.push(`CEP: Erro ao buscar endereço`);\n          resultado.valido = false;\n        }\n      }\n\n    } catch (error) {\n      resultado.erros.push(`Erro na validação: ${error instanceof Error ? error.message : 'Erro desconhecido'}`);\n      resultado.valido = false;\n    }\n\n    return resultado;\n  }\n\n  /**\n   * Consulta completa de veículo\n   */\n  async consultarVeiculo(\n    tipoVeiculo: TipoVeiculo,\n    marca: string,\n    modelo: string\n  ): Promise<ConsultaVeicular> {\n    try {\n      const resultado = await this.fipe.getBuscaCompleta(tipoVeiculo, marca, modelo);\n      \n      let valorFormatado: string | undefined;\n      let valorNumerico: number | undefined;\n\n      if (resultado.preco && resultado.preco.length > 0) {\n        const primeiroPreco = resultado.preco[0];\n        valorFormatado = this.fipe.formatarValor(primeiroPreco.valor);\n        valorNumerico = this.fipe.extrairValorNumerico(primeiroPreco.valor);\n      }\n\n      return {\n        ...resultado,\n        valorFormatado,\n        valorNumerico\n      };\n    } catch (error) {\n      console.error('Erro na consulta veicular:', error);\n      return {\n        marca: null,\n        veiculo: null,\n        preco: null\n      };\n    }\n  }\n\n  /**\n   * Autocompletar endereço baseado no CEP\n   */\n  async autocompletarEndereco(cep: string): Promise<{\n    success: boolean;\n    endereco?: {\n      logradouro: string;\n      bairro: string;\n      cidade: string;\n      estado: string;\n      cep: string;\n    };\n    erro?: string;\n  }> {\n    try {\n      const cepInfo = await this.cep.buscarCep(cep);\n      \n      return {\n        success: true,\n        endereco: {\n          logradouro: cepInfo.street || '',\n          bairro: cepInfo.neighborhood || '',\n          cidade: cepInfo.city || '',\n          estado: cepInfo.state || '',\n          cep: cepInfo.cep || ''\n        }\n      };\n    } catch (error) {\n      return {\n        success: false,\n        erro: `Erro ao buscar endereço: ${error instanceof Error ? error.message : 'Erro desconhecido'}`\n      };\n    }\n  }\n\n  /**\n   * Buscar dados da empresa por CNPJ\n   */\n  async buscarEmpresaPorCnpj(cnpj: string): Promise<{\n    success: boolean;\n    empresa?: EmpresaCnpj;\n    erro?: string;\n  }> {\n    try {\n      // Primeiro valida o CNPJ\n      const valido = this.cnpj.validarCnpj(cnpj);\n      if (!valido) {\n        return {\n          success: false,\n          erro: 'CNPJ inválido'\n        };\n      }\n\n      // Busca dados da empresa\n      const empresa = await this.cnpj.consultarCnpj(cnpj);\n      return {\n        success: true,\n        empresa\n      };\n    } catch (error) {\n      return {\n        success: false,\n        erro: `Erro ao buscar empresa: ${error instanceof Error ? error.message : 'Erro desconhecido'}`\n      };\n    }\n  }\n\n  /**\n   * Formatadores unificados\n   */\n  formatadores = {\n    cpf: (cpf: string) => this.cpf.formatarCpf(cpf),\n    cnpj: (cnpj: string) => this.cnpj.formatarCnpj(cnpj),\n    cep: (cep: string) => this.cep.formatarCep(cep),\n    valor: (valor: string) => this.fipe.formatarValor(valor),\n    \n    // Limpar formatação\n    limpar: (valor: string) => valor.replace(/\\D/g, ''),\n    \n    // Detectar tipo de documento\n    detectarTipo: (valor: string): 'cpf' | 'cnpj' | 'cep' | 'desconhecido' => {\n      const limpo = valor.replace(/\\D/g, '');\n      if (limpo.length === 11) return 'cpf';\n      if (limpo.length === 14) return 'cnpj';\n      if (limpo.length === 8) return 'cep';\n      return 'desconhecido';\n    }\n  };\n\n  /**\n   * Validadores rápidos (apenas boolean)\n   */\n  validadores = {\n    cpf: (cpf: string) => this.cpf.validar(cpf).valido,\n    cep: async (cep: string) => {\n      try {\n        await this.cep.buscarCep(cep);\n        return true;\n      } catch {\n        return false;\n      }\n    },\n    cnpj: (cnpj: string) => this.cnpj.validarCnpj(cnpj)\n  };\n\n  /**\n   * Utilitários para formulários\n   */\n  formularios = {\n    // Máscaras para inputs\n    mascaraCpf: (valor: string) => this.cpf.formatarCpf(valor),\n    mascaraCnpj: (valor: string) => this.cnpj.formatarCnpj(valor),\n    mascaraCep: (valor: string) => this.cep.formatarCep(valor),\n    \n    // Validação em tempo real\n    validarCpfTempoReal: (cpf: string) => this.cpf.validarEmTempoReal(cpf),\n    \n    // Auto-formatação baseada no tipo detectado\n    autoFormatar: (valor: string): string => {\n      const tipo = this.formatadores.detectarTipo(valor);\n      switch (tipo) {\n        case 'cpf': return this.formatadores.cpf(valor);\n        case 'cnpj': return this.formatadores.cnpj(valor);\n        case 'cep': return this.formatadores.cep(valor);\n        default: return valor;\n      }\n    }\n  };\n}\n\n// Singleton instance\nexport const brasilApi = new BrasilApiService();\n\n// Hook para React\nexport function useBrasilApi() {\n  return {\n    // Serviços individuais\n    cep: brasilApi.cep,\n    cnpj: brasilApi.cnpj,\n    cpf: brasilApi.cpf,\n    fipe: brasilApi.fipe,\n    \n    // Serviços unificados\n    validarDado: brasilApi.validarDado.bind(brasilApi),\n    validarCliente: brasilApi.validarCliente.bind(brasilApi),\n    consultarVeiculo: brasilApi.consultarVeiculo.bind(brasilApi),\n    autocompletarEndereco: brasilApi.autocompletarEndereco.bind(brasilApi),\n    buscarEmpresaPorCnpj: brasilApi.buscarEmpresaPorCnpj.bind(brasilApi),\n    \n    // Utilitários\n    formatadores: brasilApi.formatadores,\n    validadores: brasilApi.validadores,\n    formularios: brasilApi.formularios\n  };\n}\n\n// Exportar tipos principais\nexport type {\n  CpfInfo,\n  CpfValidacao,\n  EnderecoCep,\n  EmpresaCnpj,\n  PrecoFipe,\n  MarcaFipe,\n  VeiculoFipe,\n  TipoVeiculo\n};\n\n// Exportar serviços individuais também\nexport { cepService, cnpjService, cpfService, fipeService };\n\n// Utilitários globais\nexport const brasilApiUtils = {\n  // Constantes úteis\n  TIPOS_VEICULO: ['carros', 'motos', 'caminhoes'] as const,\n  ESTADOS_BRASIL: [\n    'AC', 'AL', 'AP', 'AM', 'BA', 'CE', 'DF', 'ES', 'GO', 'MA',\n    'MT', 'MS', 'MG', 'PA', 'PB', 'PR', 'PE', 'PI', 'RJ', 'RN',\n    'RS', 'RO', 'RR', 'SC', 'SP', 'SE', 'TO'\n  ],\n  \n  // Validações combinadas\n  validarDocumentoCompleto: async (documento: string): Promise<ValidacaoCompleta> => {\n    return brasilApi.validarDado(documento);\n  },\n  \n  // Formatação inteligente\n  formatarDocumento: (documento: string): string => {\n    return brasilApi.formularios.autoFormatar(documento);\n  },\n  \n  // Verificar se valor é um documento brasileiro válido\n  ehDocumentoBrasileiroValido: async (documento: string): Promise<boolean> => {\n    const resultado = await brasilApi.validarDado(documento);\n    return resultado.valido;\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1521, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/components/admin/NovoClienteModal.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { X, User, Building, Phone, Mail, MapPin, Save, FileText, CheckCircle, XCircle, Clock } from 'lucide-react'\nimport { brasilApi } from '@/lib/brasilapi'\n\ninterface NovoClienteModalProps {\n  isOpen: boolean\n  onClose: () => void\n  onSave: (cliente: any) => void\n}\n\nexport default function NovoClienteModal({ isOpen, onClose, onSave }: NovoClienteModalProps) {\n  const [formData, setFormData] = useState({\n    name: '',\n    cpfCnpj: '',\n    tipoCliente: 'FISICO' as 'FISICO' | 'JURIDICO',\n    phone: '',\n    email: '',\n    endereco: '',\n    cidade: '',\n    cep: '',\n    observacoes: ''\n  })\n\n  const [errors, setErrors] = useState<Record<string, string>>({})\n  const [cpfCnpjValidation, setCpfCnpjValidation] = useState<{\n    status: 'vazio' | 'incompleto' | 'invalido' | 'valido';\n    mensagem: string;\n    formatado: string;\n  }>({ status: 'vazio', mensagem: '', formatado: '' })\n  const [cepLoading, setCepLoading] = useState(false)\n  const [empresaInfo, setEmpresaInfo] = useState<any>(null)\n\n  // Validação de CPF/CNPJ em tempo real\n  const handleCpfCnpjChange = async (value: string) => {\n    if (formData.tipoCliente === 'FISICO') {\n      const validation = brasilApi.formularios.validarCpfTempoReal(value)\n      setCpfCnpjValidation(validation)\n      return validation.formatado\n    } else {\n      const formatted = brasilApi.formatadores.cnpj(value)\n      const valido = brasilApi.validadores.cnpj(formatted)\n      \n      if (formatted.replace(/\\D/g, '').length === 14) {\n        try {\n          const resultado = await brasilApi.buscarEmpresaPorCnpj(formatted)\n          if (resultado.success && resultado.empresa) {\n            setEmpresaInfo(resultado.empresa)\n            setCpfCnpjValidation({\n              status: 'valido',\n              mensagem: 'CNPJ válido - Empresa encontrada',\n              formatado: formatted\n            })\n            // Auto-preencher dados da empresa\n            setFormData(prev => ({\n              ...prev,\n              name: resultado.empresa!.razao_social,\n              endereco: `${resultado.empresa!.logradouro}, ${resultado.empresa!.numero}`,\n              cidade: resultado.empresa!.municipio,\n              cep: resultado.empresa!.cep\n            }))\n          } else {\n            setCpfCnpjValidation({\n              status: 'invalido',\n              mensagem: 'CNPJ não encontrado na Receita Federal',\n              formatado: formatted\n            })\n          }\n        } catch (error) {\n          setCpfCnpjValidation({\n            status: valido ? 'valido' : 'invalido',\n            mensagem: valido ? 'CNPJ válido' : 'CNPJ inválido',\n            formatado: formatted\n          })\n        }\n      } else if (formatted.replace(/\\D/g, '').length > 0) {\n        setCpfCnpjValidation({\n          status: 'incompleto',\n          mensagem: `${formatted.replace(/\\D/g, '').length}/14 dígitos`,\n          formatado: formatted\n        })\n      } else {\n        setCpfCnpjValidation({\n          status: 'vazio',\n          mensagem: '',\n          formatado: ''\n        })\n      }\n      \n      return formatted\n    }\n  }\n\n  // Auto-completar endereço por CEP\n  const handleCepChange = async (value: string) => {\n    const formatted = brasilApi.formatadores.cep(value)\n    \n    if (formatted.replace(/\\D/g, '').length === 8) {\n      setCepLoading(true)\n      try {\n        const resultado = await brasilApi.autocompletarEndereco(formatted)\n        if (resultado.success && resultado.endereco) {\n          setFormData(prev => ({\n            ...prev,\n            endereco: resultado.endereco!.logradouro,\n            cidade: resultado.endereco!.cidade\n          }))\n        }\n      } catch (error) {\n        console.error('Erro ao buscar CEP:', error)\n      } finally {\n        setCepLoading(false)\n      }\n    }\n    \n    return formatted\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    \n    // Validação básica\n    const newErrors: Record<string, string> = {}\n    \n    if (!formData.name.trim()) newErrors.name = 'Nome é obrigatório'\n    if (!formData.cpfCnpj.trim()) newErrors.cpfCnpj = 'CPF/CNPJ é obrigatório'\n    if (!formData.phone.trim()) newErrors.phone = 'Telefone é obrigatório'\n    \n    // Validação com Brasil API\n    if (cpfCnpjValidation.status !== 'valido') {\n      newErrors.cpfCnpj = 'CPF/CNPJ inválido'\n    }\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors)\n      return\n    }\n\n    // Criar cliente\n    const novoCliente = {\n      id: Date.now().toString(),\n      ...formData,\n      status: 'ATIVO',\n      createdAt: new Date().toISOString().split('T')[0],\n      processosAtivos: 0,\n      empresaInfo: empresaInfo // Incluir dados da empresa se CNPJ\n    }\n\n    onSave(novoCliente)\n    \n    // Reset form\n    setFormData({\n      name: '',\n      cpfCnpj: '',\n      tipoCliente: 'FISICO',\n      phone: '',\n      email: '',\n      endereco: '',\n      cidade: '',\n      cep: '',\n      observacoes: ''\n    })\n    setErrors({})\n    setCpfCnpjValidation({ status: 'vazio', mensagem: '', formatado: '' })\n    setEmpresaInfo(null)\n    onClose()\n  }\n\n  const formatCpfCnpj = (value: string) => {\n    const numero = value.replace(/\\D/g, '')\n    \n    if (formData.tipoCliente === 'FISICO') {\n      // Formato CPF: 000.000.000-00\n      return numero\n        .replace(/(\\d{3})(\\d)/, '$1.$2')\n        .replace(/(\\d{3})(\\d)/, '$1.$2')\n        .replace(/(\\d{3})(\\d{1,2})/, '$1-$2')\n        .slice(0, 14)\n    } else {\n      // Formato CNPJ: 00.000.000/0000-00\n      return numero\n        .replace(/(\\d{2})(\\d)/, '$1.$2')\n        .replace(/(\\d{3})(\\d)/, '$1.$2')\n        .replace(/(\\d{3})(\\d)/, '$1/$2')\n        .replace(/(\\d{4})(\\d{1,2})/, '$1-$2')\n        .slice(0, 18)\n    }\n  }\n\n  const formatPhone = (value: string) => {\n    const numero = value.replace(/\\D/g, '')\n    \n    if (numero.length <= 10) {\n      // Telefone fixo: (00) 0000-0000\n      return numero\n        .replace(/(\\d{2})(\\d)/, '($1) $2')\n        .replace(/(\\d{4})(\\d{1,4})/, '$1-$2')\n    } else {\n      // Celular: (00) 00000-0000\n      return numero\n        .replace(/(\\d{2})(\\d)/, '($1) $2')\n        .replace(/(\\d{5})(\\d{1,4})/, '$1-$2')\n        .slice(0, 15)\n    }\n  }\n\n  const formatCep = (value: string) => {\n    const numero = value.replace(/\\D/g, '')\n    return numero.replace(/(\\d{5})(\\d{1,3})/, '$1-$2').slice(0, 9)\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"bg-blue-100 p-2 rounded-lg\">\n              <User className=\"w-5 h-5 text-blue-600\" />\n            </div>\n            <h2 className=\"text-xl font-semibold text-gray-900\">Novo Cliente</h2>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {/* Tipo de Cliente */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Tipo de Cliente\n            </label>\n            <div className=\"flex gap-4\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name=\"tipoCliente\"\n                  value=\"FISICO\"\n                  checked={formData.tipoCliente === 'FISICO'}\n                  onChange={(e) => {\n                    setFormData({ ...formData, tipoCliente: e.target.value as 'FISICO', cpfCnpj: '' })\n                    setCpfCnpjValidation({ status: 'vazio', mensagem: '', formatado: '' })\n                    setEmpresaInfo(null)\n                  }}\n                  className=\"text-blue-600 focus:ring-blue-500\"\n                />\n                <User className=\"w-4 h-4\" />\n                <span>Pessoa Física</span>\n              </label>\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name=\"tipoCliente\"\n                  value=\"JURIDICO\"\n                  checked={formData.tipoCliente === 'JURIDICO'}\n                  onChange={(e) => {\n                    setFormData({ ...formData, tipoCliente: e.target.value as 'JURIDICO', cpfCnpj: '' })\n                    setCpfCnpjValidation({ status: 'vazio', mensagem: '', formatado: '' })\n                    setEmpresaInfo(null)\n                  }}\n                  className=\"text-blue-600 focus:ring-blue-500\"\n                />\n                <Building className=\"w-4 h-4\" />\n                <span>Pessoa Jurídica</span>\n              </label>\n            </div>\n          </div>\n\n          {/* Dados Principais */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {formData.tipoCliente === 'FISICO' ? 'Nome Completo' : 'Razão Social'} *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                  errors.name ? 'border-red-300' : 'border-gray-300'\n                }`}\n                placeholder={formData.tipoCliente === 'FISICO' ? 'João Silva Santos' : 'Empresa Ltda'}\n              />\n              {errors.name && <p className=\"text-red-500 text-sm mt-1\">{errors.name}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                {formData.tipoCliente === 'FISICO' ? 'CPF' : 'CNPJ'} *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.cpfCnpj}\n                onChange={async (e) => {\n                  const formatted = await handleCpfCnpjChange(e.target.value)\n                  setFormData({ ...formData, cpfCnpj: formatted })\n                }}\n                className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent ${\n                  errors.cpfCnpj ? 'border-red-300 focus:ring-red-500' : \n                  cpfCnpjValidation.status === 'valido' ? 'border-green-300 focus:ring-green-500' :\n                  cpfCnpjValidation.status === 'invalido' ? 'border-red-300 focus:ring-red-500' :\n                  'border-gray-300 focus:ring-blue-500'\n                }`}\n                placeholder={formData.tipoCliente === 'FISICO' ? '000.000.000-00' : '00.000.000/0000-00'}\n              />\n              {cpfCnpjValidation.status !== 'vazio' && (\n                <div className={`mt-1 text-sm flex items-center gap-1 ${\n                  cpfCnpjValidation.status === 'valido' ? 'text-green-600' :\n                  cpfCnpjValidation.status === 'invalido' ? 'text-red-600' :\n                  'text-gray-600'\n                }`}>\n                  {cpfCnpjValidation.status === 'valido' && <CheckCircle className=\"w-4 h-4\" />}\n                  {cpfCnpjValidation.status === 'invalido' && <XCircle className=\"w-4 h-4\" />}\n                  {cpfCnpjValidation.status === 'incompleto' && <Clock className=\"w-4 h-4\" />}\n                  {cpfCnpjValidation.mensagem}\n                </div>\n              )}\n              {errors.cpfCnpj && <p className=\"text-red-500 text-sm mt-1\">{errors.cpfCnpj}</p>}\n            </div>\n          </div>\n\n          {/* Informações da Empresa (se CNPJ válido) */}\n          {empresaInfo && (\n            <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n              <h4 className=\"font-medium text-green-800 mb-2 flex items-center gap-2\">\n                <Building className=\"w-4 h-4\" />\n                Dados da Empresa\n              </h4>\n              <div className=\"text-sm text-green-700 space-y-1\">\n                <p><strong>Razão Social:</strong> {empresaInfo.razao_social}</p>\n                {empresaInfo.nome_fantasia && (\n                  <p><strong>Nome Fantasia:</strong> {empresaInfo.nome_fantasia}</p>\n                )}\n                <p><strong>Situação:</strong> {empresaInfo.descricao_situacao_cadastral}</p>\n                <p><strong>Porte:</strong> {empresaInfo.descricao_porte}</p>\n                <p><strong>CNAE:</strong> {empresaInfo.cnae_fiscal_descricao}</p>\n              </div>\n            </div>\n          )}\n\n          {/* Contato */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Telefone *\n              </label>\n              <div className=\"relative\">\n                <Phone className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <input\n                  type=\"text\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({ ...formData, phone: formatPhone(e.target.value) })}\n                  className={`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                    errors.phone ? 'border-red-300' : 'border-gray-300'\n                  }`}\n                  placeholder=\"(16) 99999-9999\"\n                />\n              </div>\n              {errors.phone && <p className=\"text-red-500 text-sm mt-1\">{errors.phone}</p>}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                E-mail\n              </label>\n              <div className=\"relative\">\n                <Mail className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"cliente@email.com\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Endereço */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-medium text-gray-900 flex items-center gap-2\">\n              <MapPin className=\"w-4 h-4\" />\n              Endereço\n            </h3>\n            \n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Endereço Completo\n              </label>\n              <input\n                type=\"text\"\n                value={formData.endereco}\n                onChange={(e) => setFormData({ ...formData, endereco: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                placeholder=\"Rua das Flores, 123, Centro\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Cidade\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.cidade}\n                  onChange={(e) => setFormData({ ...formData, cidade: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  placeholder=\"Franca\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  CEP\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type=\"text\"\n                    value={formData.cep}\n                    onChange={async (e) => {\n                      const formatted = await handleCepChange(e.target.value)\n                      setFormData({ ...formData, cep: formatted })\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    placeholder=\"14400-000\"\n                  />\n                  {cepLoading && (\n                    <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500\">\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-2 border-blue-600 border-t-transparent\"></div>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Observações */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Observações\n            </label>\n            <div className=\"relative\">\n              <FileText className=\"absolute left-3 top-3 text-gray-400 w-4 h-4\" />\n              <textarea\n                value={formData.observacoes}\n                onChange={(e) => setFormData({ ...formData, observacoes: e.target.value })}\n                rows={3}\n                className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                placeholder=\"Informações adicionais sobre o cliente...\"\n              />\n            </div>\n          </div>\n\n          {/* Botões */}\n          <div className=\"flex gap-3 justify-end pt-4 border-t border-gray-200\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2\"\n            >\n              <Save className=\"w-4 h-4\" />\n              Salvar Cliente\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2507, "column": 0}, "map": {"version":3,"sources":["file:///Users/viniciusbaldochi/despasys/src/app/admin/clientes/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useSession } from 'next-auth/react'\nimport { Plus, Search, Filter, MoreHorizontal, User, Building, Phone, Mail, MapPin } from 'lucide-react'\nimport { ProtectedRoute } from '@/components/ProtectedRoute'\nimport NovoClienteModal from '@/components/admin/NovoClienteModal'\n\ninterface Cliente {\n  id: string\n  name: string\n  cpfCnpj: string\n  tipoCliente: 'FISICO' | 'JURIDICO'\n  phone: string\n  email?: string\n  cidade?: string\n  status: 'ATIVO' | 'INATIVO' | 'SUSPENSO'\n  createdAt: string\n  processosAtivos: number\n  ultimoProcesso?: string\n}\n\n// Dados mock para demonstração\nconst clientesMock: Cliente[] = [\n  {\n    id: '1',\n    name: 'João Silva Santos',\n    cpfCnpj: '123.456.789-01',\n    tipoCliente: 'FISICO',\n    phone: '(16) 99999-1234',\n    email: 'joao@email.com',\n    cidade: 'Franca',\n    status: 'ATIVO',\n    createdAt: '2024-01-15',\n    processosAtivos: 2,\n    ultimoProcesso: 'Transferência Honda Civic'\n  },\n  {\n    id: '2',\n    name: 'Transportadora ABC Ltda',\n    cpfCnpj: '12.345.678/0001-90',\n    tipoCliente: 'JURIDICO',\n    phone: '(16) 3333-5678',\n    email: 'contato@transportadoraabc.com',\n    cidade: 'Ribeirão Preto',\n    status: 'ATIVO',\n    createdAt: '2024-02-20',\n    processosAtivos: 5,\n    ultimoProcesso: 'Licenciamento Frota'\n  },\n  {\n    id: '3',\n    name: 'Maria Oliveira',\n    cpfCnpj: '987.654.321-09',\n    tipoCliente: 'FISICO',\n    phone: '(16) 98888-5555',\n    email: 'maria@outlook.com',\n    cidade: 'Franca',\n    status: 'ATIVO',\n    createdAt: '2024-03-10',\n    processosAtivos: 1,\n    ultimoProcesso: 'Primeiro Emplacamento'\n  }\n]\n\nfunction ClientesPage() {\n  const { data: session } = useSession()\n  const [clientes, setClientes] = useState<Cliente[]>([])\n  const [loading, setLoading] = useState(true)\n  const [searchTerm, setSearchTerm] = useState('')\n  const [filtroTipo, setFiltroTipo] = useState<'TODOS' | 'FISICO' | 'JURIDICO'>('TODOS')\n  const [filtroStatus, setFiltroStatus] = useState<'TODOS' | 'ATIVO' | 'INATIVO' | 'SUSPENSO'>('TODOS')\n  const [isModalOpen, setIsModalOpen] = useState(false)\n\n  useEffect(() => {\n    fetchClientes()\n  }, [])\n\n  const fetchClientes = async () => {\n    try {\n      setLoading(true)\n      const response = await fetch('/api/customers')\n      \n      if (response.ok) {\n        const data = await response.json()\n        // Converter dados do banco para o formato esperado\n        const clientesFormatados = data.map((customer: any) => ({\n          id: customer.id,\n          name: customer.name,\n          cpfCnpj: customer.cpfCnpj,\n          tipoCliente: customer.tipoCliente,\n          phone: customer.phone,\n          email: customer.email,\n          cidade: customer.cidade,\n          status: 'ATIVO', // Por enquanto todos ativos\n          createdAt: new Date(customer.createdAt).toLocaleDateString('pt-BR'),\n          processosAtivos: 0, // Implementar depois\n          ultimoProcesso: undefined\n        }))\n        setClientes(clientesFormatados)\n      } else {\n        console.error('Erro ao buscar clientes')\n        // Em caso de erro, usar dados mock temporariamente\n        setClientes(clientesMock)\n      }\n    } catch (error) {\n      console.error('Erro na requisição:', error)\n      setClientes(clientesMock)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAddCliente = async (novoCliente: any) => {\n    try {\n      const response = await fetch('/api/customers', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(novoCliente)\n      })\n\n      if (response.ok) {\n        await fetchClientes() // Recarregar lista\n        setIsModalOpen(false)\n      } else {\n        const error = await response.json()\n        console.error('Erro ao criar cliente:', error.error)\n        alert('Erro ao criar cliente: ' + error.error)\n      }\n    } catch (error) {\n      console.error('Erro na requisição:', error)\n      alert('Erro ao criar cliente')\n    }\n  }\n\n  const clientesFiltrados = clientes.filter(cliente => {\n    const matchSearch = cliente.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                       cliente.cpfCnpj.includes(searchTerm) ||\n                       cliente.phone.includes(searchTerm)\n    \n    const matchTipo = filtroTipo === 'TODOS' || cliente.tipoCliente === filtroTipo\n    const matchStatus = filtroStatus === 'TODOS' || cliente.status === filtroStatus\n    \n    return matchSearch && matchTipo && matchStatus\n  })\n\n  const getStatusBadge = (status: string) => {\n    const styles = {\n      ATIVO: 'bg-green-100 text-green-800 border-green-200',\n      INATIVO: 'bg-gray-100 text-gray-800 border-gray-200',\n      SUSPENSO: 'bg-red-100 text-red-800 border-red-200'\n    }\n    return styles[status as keyof typeof styles] || styles.ATIVO\n  }\n\n  const getTipoIcon = (tipo: string) => {\n    return tipo === 'FISICO' ? <User className=\"w-4 h-4\" /> : <Building className=\"w-4 h-4\" />\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white border-b border-gray-200\">\n        <div className=\"px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Clientes</h1>\n              <p className=\"text-gray-600 mt-1\">\n                {session?.user?.tenant?.name} - {loading ? 'Carregando...' : `${clientes.length} clientes cadastrados`}\n              </p>\n            </div>\n            <div className=\"flex space-x-3\">\n              <a\n                href=\"/dashboard\"\n                className=\"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n              >\n                Voltar ao Dashboard\n              </a>\n              <button \n                onClick={() => setIsModalOpen(true)}\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n              >\n                <Plus className=\"w-4 h-4\" />\n                Novo Cliente\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Filtros e Busca */}\n      <div className=\"px-6 py-4 bg-white border-b border-gray-200\">\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          {/* Busca */}\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n            <input\n              type=\"text\"\n              placeholder=\"Buscar por nome, CPF/CNPJ ou telefone...\"\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n            />\n          </div>\n\n          {/* Filtros */}\n          <div className=\"flex gap-2\">\n            <select\n              className=\"px-3 py-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500\"\n              value={filtroTipo}\n              onChange={(e) => setFiltroTipo(e.target.value as any)}\n            >\n              <option value=\"TODOS\">Todos os Tipos</option>\n              <option value=\"FISICO\">Pessoa Física</option>\n              <option value=\"JURIDICO\">Pessoa Jurídica</option>\n            </select>\n\n            <select\n              className=\"px-3 py-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500\"\n              value={filtroStatus}\n              onChange={(e) => setFiltroStatus(e.target.value as any)}\n            >\n              <option value=\"TODOS\">Todos os Status</option>\n              <option value=\"ATIVO\">Ativo</option>\n              <option value=\"INATIVO\">Inativo</option>\n              <option value=\"SUSPENSO\">Suspenso</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Cards de Estatísticas */}\n      <div className=\"px-6 py-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Total de Clientes</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{clientes.length}</p>\n              </div>\n              <div className=\"bg-blue-100 p-2 rounded-lg\">\n                <User className=\"w-6 h-6 text-blue-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Pessoa Física</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {clientes.filter(c => c.tipoCliente === 'FISICO').length}\n                </p>\n              </div>\n              <div className=\"bg-green-100 p-2 rounded-lg\">\n                <User className=\"w-6 h-6 text-green-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Pessoa Jurídica</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {clientes.filter(c => c.tipoCliente === 'JURIDICO').length}\n                </p>\n              </div>\n              <div className=\"bg-purple-100 p-2 rounded-lg\">\n                <Building className=\"w-6 h-6 text-purple-600\" />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Processos Ativos</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {clientes.reduce((acc, c) => acc + c.processosAtivos, 0)}\n                </p>\n              </div>\n              <div className=\"bg-orange-100 p-2 rounded-lg\">\n                <Filter className=\"w-6 h-6 text-orange-600\" />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Lista de Clientes */}\n        <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Cliente\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Contato\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Localização\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Atividade\n                  </th>\n                  <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Ações\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {clientesFiltrados.map((cliente) => (\n                  <tr key={cliente.id} className=\"hover:bg-gray-50 transition-colors\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n                          {getTipoIcon(cliente.tipoCliente)}\n                        </div>\n                        <div className=\"ml-3\">\n                          <div className=\"text-sm font-medium text-gray-900\">{cliente.name}</div>\n                          <div className=\"text-sm text-gray-500\">{cliente.cpfCnpj}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 flex items-center gap-1\">\n                        <Phone className=\"w-3 h-3 text-gray-400\" />\n                        {cliente.phone}\n                      </div>\n                      {cliente.email && (\n                        <div className=\"text-sm text-gray-500 flex items-center gap-1\">\n                          <Mail className=\"w-3 h-3 text-gray-400\" />\n                          {cliente.email}\n                        </div>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900 flex items-center gap-1\">\n                        <MapPin className=\"w-3 h-3 text-gray-400\" />\n                        {cliente.cidade || 'Não informado'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${getStatusBadge(cliente.status)}`}>\n                        {cliente.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {cliente.processosAtivos} processo{cliente.processosAtivos !== 1 ? 's' : ''} ativo{cliente.processosAtivos !== 1 ? 's' : ''}\n                      </div>\n                      {cliente.ultimoProcesso && (\n                        <div className=\"text-sm text-gray-500\">{cliente.ultimoProcesso}</div>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\n                      <button className=\"text-gray-400 hover:text-gray-600 transition-colors\">\n                        <MoreHorizontal className=\"w-4 h-4\" />\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Empty State */}\n        {clientesFiltrados.length === 0 && (\n          <div className=\"bg-white rounded-lg border border-gray-200 p-8 text-center\">\n            <User className=\"w-12 h-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Nenhum cliente encontrado</h3>\n            <p className=\"text-gray-500 mb-4\">\n              {searchTerm || filtroTipo !== 'TODOS' || filtroStatus !== 'TODOS'\n                ? 'Tente ajustar os filtros ou termo de busca'\n                : 'Comece adicionando seu primeiro cliente ao sistema'\n              }\n            </p>\n            <button \n              onClick={() => setIsModalOpen(true)}\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg\"\n            >\n              Adicionar Cliente\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Modal */}\n      <NovoClienteModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onSave={handleAddCliente}\n      />\n    </div>\n  )\n}\n\nfunction ClientesPageWrapper() {\n  return (\n    <ProtectedRoute>\n      <ClientesPage />\n    </ProtectedRoute>\n  )\n}\n\nexport default ClientesPageWrapper\n"],"names":[],"mappings":"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","debugId":null}}]
}